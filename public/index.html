<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%PUBLIC_URL%/images/imcat_64.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#000000" />
		<meta name="description" content="ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤ ğŸ˜„" />
		<meta property="image" content="%PUBLIC_URL%/images/imcat_800x400.png" />
		<meta property="og:image" content="%PUBLIC_URL%/images/imcat_800x400.png" />
		<!-- google search -->
		<meta name="google-site-verification" content="HZicODInbBKemFyMPNAa0hZFqxXrvctIKQjKNGjc1g8" />

		<link rel="apple-touch-icon" href="%PUBLIC_URL%/images/imcat.png" />
		<link rel="stylesheet" href="%PUBLIC_URL%/styles/atom-one-dark.css" />
		<link rel="stylesheet" href="%PUBLIC_URL%/styles/index.css" />
		<script src="%PUBLIC_URL%/lib/highlight.pack.js"></script>
		<script src="%PUBLIC_URL%/lib/naveridlogin_js_sdk_2.0.0.js"></script>
		<script src="%PUBLIC_URL%/lib/kakao.min.js"></script>
		<!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
		<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
		<title>ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸ ğŸ˜„</title>

		<!-- googld-AdSense -->
		<!-- <script data-ad-client="ca-pub-3156014367299473" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

		<!-- Start Single Page Apps for GitHub Pages -->
		<script type="text/javascript">
			// Single Page Apps for GitHub Pages
			// https://github.com/rafrex/spa-github-pages
			// Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
			// ----------------------------------------------------------------------
			// This script checks to see if a redirect is present in the query string
			// and converts it back into the correct url and adds it to the
			// browser's history using window.history.replaceState(...),
			// which won't cause the browser to attempt to load the new url.
			// When the single page app is loaded further down in this file,
			// the correct url will be waiting in the browser's history for
			// the single page app to route accordingly.
			;(function (l) {
				if (l.search) {
					var q = {}
					l.search
						.slice(1)
						.split('&')
						.forEach(function (v) {
							var a = v.split('=')
							q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&')
						})
					if (q.p !== undefined) {
						window.history.replaceState(null, null, l.pathname.slice(0, -1) + (q.p || '') + (q.q ? '?' + q.q : '') + l.hash)
					}
				}
			})(window.location)
		</script>
		<!-- End Single Page Apps for GitHub Pages -->
	</head>

	<body>
		<noscript>You need to enable JavaScript to run this app.</noscript>

		<!-- ë„¤ì´ë²„ì•„ì´ë””ë¡œë¡œê·¸ì¸ ë²„íŠ¼ ë…¸ì¶œ ì˜ì—­ -->
		<div id="naverIdLogin" class="hidden"></div>
		<input id="userinfo" class="hidden" value="" />
		<!-- //ë„¤ì´ë²„ì•„ì´ë””ë¡œë¡œê·¸ì¸ ë²„íŠ¼ ë…¸ì¶œ ì˜ì—­ -->

		<!-- ë„¤ì´ë²„ì•„ë””ë””ë¡œë¡œê·¸ì¸ ì´ˆê¸°í™” Script -->
		<script type="text/javascript">
			let naverId, callBackUrl
			if (window.location.href.indexOf('localhost') > -1) {
				//ë¡œì»¬
				googleId = '605411712139-7nr29rfs5ihfu9uoev3igr5hpf4ubkle.apps.googleusercontent.com'
				naverId = '1GCn3_4FurDb9SXHyzlw'
				callBackUrl = 'http://localhost:3000/login'
			} else {
				//ì„œë²„
				googleId = '605411712139-eb3qqicskmkal2i9u26ppdhoq2jt0bd8.apps.googleusercontent.com'
				naverId = 'kjVk1u480gzQO_XLX_hp'
				callBackUrl = 'https://imki123.github.io/login'
			}
			var naverLogin = new naver.LoginWithNaverId({
				clientId: naverId,
				callbackUrl: callBackUrl,
				isPopup: false /* íŒì—…ì„ í†µí•œ ì—°ë™ì²˜ë¦¬ ì—¬ë¶€ */,
				loginButton: { color: 'green', type: 3, height: 60 } /* ë¡œê·¸ì¸ ë²„íŠ¼ì˜ íƒ€ì…ì„ ì§€ì • */,
			})

			/* ì„¤ì •ì •ë³´ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì—°ë™ì„ ì¤€ë¹„ */
			naverLogin.init()

			/* (4) Callbackì˜ ì²˜ë¦¬. ì •ìƒì ìœ¼ë¡œ Callback ì²˜ë¦¬ê°€ ì™„ë£Œë  ê²½ìš° main pageë¡œ redirect(ë˜ëŠ” Popup close) */
			window.addEventListener('load', function () {
				naverLogin.getLoginStatus(function (status) {
					if (status) {
						let user = naverLogin.user
						user.host = 'naver'
						const userinfo = document.querySelector('#userinfo')
						if (userinfo) userinfo.value = JSON.stringify(user)
					} else {
						//console.log('callback ì²˜ë¦¬ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.')
					}
				})
			})

			//ë„¤ì´ë²„ ì•„ì´ë”” ë¡œê·¸ì•„ì›ƒ
			function naverIdLogout(naverLogin) {
				//console.log('naverIdLogout:',naverLogin)
				naverLogin.logout()
			}
		</script>
		<!-- // ë„¤ì´ë²„ì•„ì´ë””ë¡œë¡œê·¸ì¸ ì´ˆê¸°í™” Script -->

		<!-- ë„¤ì´ë²„ ì•„ì´ë”” ë¡œê·¸ì•„ì›ƒ -->
		<div id="naverIdLogout" class="hidden" onclick="naverIdLogout(naverLogin)"></div>
		<!-- // ë„¤ì´ë²„ ì•„ì´ë”” ë¡œê·¸ì•„ì›ƒ -->

		<!-- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì´ˆê¸°í™” Script -->
		<div id="kakaoLogin" class="hidden" onclick="kakaoLogin()"></div>
		<div id="kakaoLogout" class="hidden" onclick="kakaoLogout()"></div>
		<script>
			Kakao.init('0d74caaceac5f0f14c0d6a667a9dbdee')
			Kakao.isInitialized()

			function kakaoLogin() {
				//ë¡œê·¸ì¸í•˜ê³ 
				Kakao.Auth.login({
					success: function (response) {
						//console.log(response)
						//ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
						Kakao.API.request({
							url: '/v2/user/me',
							success: function (response) {
								let user = response.kakao_account
								//console.log(user)
								user.host = 'kakao'
								const userinfo = document.querySelector('#userinfo')
								if (userinfo) userinfo.value = JSON.stringify(user)
							},
							fail: function (error) {
								//console.log(error)
							},
						})
					},
					fail: function (error) {
						//console.log(error)
					},
				})
			}
			function kakaoLogout() {
				if (Kakao.Auth.getAccessToken()) {
					//í† í°ì´ ìˆìœ¼ë©´
					Kakao.API.request({
						//ë¡œê·¸ì•„ì›ƒ
						url: '/v1/user/unlink',
						success: function (response) {
							//console.log(response)
						},
						fail: function (error) {
							console.log(error)
						},
					})
					//í† í° ì‚­ì œ
					Kakao.Auth.setAccessToken(undefined)
				}
			}
		</script>
		<!-- // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì´ˆê¸°í™” Script -->

		<div id="root"></div>
	</body>
</html>
