<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%PUBLIC_URL%/images/imcat_64.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#000000" />
		<meta name="description" content="임기의 코딩 블로그입니다 :D" />
		<meta property="image" content="%PUBLIC_URL%/images/imcat_800x400.png" />
		<meta property="og:image" content="%PUBLIC_URL%/images/imcat_800x400.png" />
		<!-- google search -->
		<meta name="google-site-verification" content="HZicODInbBKemFyMPNAa0hZFqxXrvctIKQjKNGjc1g8" />

		<link rel="apple-touch-icon" href="%PUBLIC_URL%/images/imcat.png" />
		<link rel="stylesheet" href="%PUBLIC_URL%/styles/atom-one-dark.css" />
		<link rel="stylesheet" href="%PUBLIC_URL%/styles/index.css" />
		<script src="%PUBLIC_URL%/lib/highlight.pack.js"></script>
		<script src="%PUBLIC_URL%/lib/naveridlogin_js_sdk_2.0.0.js"></script>
		<!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
		<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
		<title>임기의 코딩 블로그 :D</title>

		<!-- googld-AdSense -->
		<!-- <script data-ad-client="ca-pub-3156014367299473" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->

		<!-- Start Single Page Apps for GitHub Pages -->
		<script type="text/javascript">
			// Single Page Apps for GitHub Pages
			// https://github.com/rafrex/spa-github-pages
			// Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
			// ----------------------------------------------------------------------
			// This script checks to see if a redirect is present in the query string
			// and converts it back into the correct url and adds it to the
			// browser's history using window.history.replaceState(...),
			// which won't cause the browser to attempt to load the new url.
			// When the single page app is loaded further down in this file,
			// the correct url will be waiting in the browser's history for
			// the single page app to route accordingly.
			;(function (l) {
				if (l.search) {
					var q = {}
					l.search
						.slice(1)
						.split('&')
						.forEach(function (v) {
							var a = v.split('=')
							q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&')
						})
					if (q.p !== undefined) {
						window.history.replaceState(null, null, l.pathname.slice(0, -1) + (q.p || '') + (q.q ? '?' + q.q : '') + l.hash)
					}
				}
			})(window.location)
		</script>
		<!-- End Single Page Apps for GitHub Pages -->
	</head>

	<body>
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<!-- 네이버아이디로로그인 버튼 노출 영역 -->
		<div id="naverIdLogin"></div>
		<input id="userinfo" value=""/>
		<!-- //네이버아이디로로그인 버튼 노출 영역 -->

		<!-- 네이버아디디로로그인 초기화 Script -->
		<script type="text/javascript">
			let naverId, naverUrl
			if (window.location.href.indexOf('localhost') > -1) {
				//로컬
				googleId = '605411712139-7nr29rfs5ihfu9uoev3igr5hpf4ubkle.apps.googleusercontent.com'
				naverId = '1GCn3_4FurDb9SXHyzlw'
				naverUrl = 'http://localhost:3000/login'
			} else {
				//서버
				googleId = '605411712139-eb3qqicskmkal2i9u26ppdhoq2jt0bd8.apps.googleusercontent.com'
				naverId = 'kjVk1u480gzQO_XLX_hp'
				naverUrl = 'https://imki123.github.io/login'
			}
			var naverLogin = new naver.LoginWithNaverId({
				clientId: naverId,
				callbackUrl: naverUrl,
				isPopup: false /* 팝업을 통한 연동처리 여부 */,
				loginButton: { color: 'green', type: 3, height: 60 } /* 로그인 버튼의 타입을 지정 */,
			})

			/* 설정정보를 초기화하고 연동을 준비 */
			naverLogin.init()

			/* (4) Callback의 처리. 정상적으로 Callback 처리가 완료될 경우 main page로 redirect(또는 Popup close) */
			window.addEventListener('load', function () {
				naverLogin.getLoginStatus(function (status) {
					if (status) {
						let user = naverLogin.user
						const userinfo = document.querySelector('#userinfo')
						if (userinfo) userinfo.value = JSON.stringify(user)
					} else {
						//console.log('callback 처리에 실패하였습니다.')
					}
				})
			})
		</script>
		<!-- // 네이버아이디로로그인 초기화 Script -->

		<div id="root"></div>
	</body>
</html>
