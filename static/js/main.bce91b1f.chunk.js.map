{"version":3,"sources":["utils/util.js","components/Header.js","components/Body.js","components/Menus.js","components/Guide.js","components/Comment.js","components/Meta.js","components/PostList.js","components/Recents.js","components/CommentLists.js","components/Emoji.js","components/Post.js","components/NotFoundPage.js","components/Login.js","components/Quill.js","components/Paging.js","components/Tags.js","components/Content.js","components/Setting.js","App.js","index.js"],"names":["resizeTextarea","e","fake","document","querySelector","textareas","target","push","querySelectorAll","i","length","style","height","width","offsetWidth","value","scrollHeight","slideMenu","body","guideBack","guideWrapper","content","scrollTop","diff","top","getBoundingClientRect","interval","setInterval","clearInterval","setTimeout","left","replace","boxShadow","maxWidth","closeMenuMobile","resize","offsetHeight","editor","toolbar","marginBottom","React","memo","props","store","useContext","AppContext","id","Button","className","onClick","to","startIcon","alt","src","setting","display","login","imageUrl","Math","floor","random","onError","children","menus","map","key","name","exact","activeClassName","substring","toUpperCase","count","subMenus","j","scrollToTop","title","href","preventDefault","window","open","comment","post","refreshComment","useState","setImageUrl","update","date","publishedDate","useEffect","postId","commentId","username","Axios","process","withCredentials","data","then","res","catch","fontWeight","updated","readOnly","onChange","textarea","confirm","classList","remove","url","patch","console","log","alert","add","focus","background","locales","en","ko","Meta","lang","locale","description","image","undefined","canonical","type","Helmet","titleTemplate","rel","itemprop","property","hreflang","list","no","tags","views","text","idx","location","comments","setComments","commentCnt","setCommentCnt","recentAll","setRecentAll","pathname","get","setReady","reduce","a","b","splited","emojis","split","copied","emoji","options","format","match","history","params","setPost","postBody","setPostBody","recents","setRecents","popular","setPopular","recentComments","setRecentComments","useQuill","modules","syntax","formats","quill","quillRef","go","hash","elem","frame","contentScroll","elemTop","offsetTop","dif","setContents","setText","activeTags","deletePost","delete","func","svg","ref","variant","color","placeholder","useHistory","browser","agent","navigator","userAgent","toLowerCase","indexOf","checkUsername","setCheckUsername","checkPassword","setCheckPassword","checkPasswordConfirm","setCheckPasswordConfirm","buttonName","setButtonName","userinfo","setUserinfo","userinfoElem","user","JSON","parse","host","email","naverLogout","click","profile_image","kakaoLogout","profile","thumbnail_image_url","fetch","mode","method","credentials","headers","stringify","status","json","message","error","setLogin","clickButton","password","fontSize","naverIdLogin","firstChild","kakaoLogin","googleLogin","passwordConfirm","autoComplete","textAlign","ready","setSubMenus","size","header","align","indent","imageCompress","quality","maxHeight","imageType","debug","Quill","register","Number","checked","mainMenu","getElementById","res2","subMenu","newSubMenu","clickPost","getContents","getText","newMainMenu","getLength","changeMainMenu","changeSubMenu","postCount","useLocation","search","queryString","paging","pages","page","parseInt","startPost","lastPage","ceil","links","innerHTML","p","path","tag","lists","setLists","titles","setTitles","setPostCount","setPage","pageNum","tempTitles","loading","component","Login","Tags","CommentLists","Post","NotFoundPage","disabled","settingWrapper","stopPropagation","naverIdLogout","googleLogout","oAuth","createContext","order","setMenus","checkToken","toggleHeader","$header","timer","addEventListener","removeEventListener","useToggleHeader","Provider","rootElement","hasChildNodes","hydrate","basename","ReactDOM","render"],"mappings":"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","file":"static/js/main.bce91b1f.chunk.js","sourcesContent":["import Axios from 'axios'\r\nimport { useEffect } from 'react'\r\n\r\nexport const resizeTextarea = (e) => {\r\n  //í…ìŠ¤íŠ¸ì—ì–´ë¦¬ì–´ë¥¼ ì°¾ì•„ì„œ í¬ê¸°ë¥¼ ê¸€ì ë†’ì´ì— ë§ê²Œ ë³€ê²½í•˜ê¸°\r\n  //textarea ë†’ì´ ì¡°ì •\r\n  const fake = document.querySelector('#fakeTextarea')\r\n  let textareas = []\r\n  if (e && e.target) {\r\n    textareas.push(e.target)\r\n  } else {\r\n    textareas = document.querySelectorAll('textarea')\r\n  }\r\n\r\n  if (textareas && fake) {\r\n    for (let i = 0; i < textareas.length; i++) {\r\n      fake.style.height = '1px'\r\n      fake.style.width = textareas[i].offsetWidth + 'px'\r\n      fake.value = textareas[i].value\r\n      textareas[i].style.height = 5 + fake.scrollHeight + 'px'\r\n    }\r\n    fake.value = ''\r\n    fake.style.height = '0px'\r\n  }\r\n}\r\n\r\nexport const slideMenu = () => {\r\n  //ë©”ë‰´ë²„íŠ¼ í´ë¦­ ì‹œ ë©”ë‰´ ë³´ì´ê¸° & ìˆ¨ê¸°ê¸°\r\n  //guideWrapperëŠ” PCì—ì„œ widthì¡°ì ˆ, ëª¨ë°”ì¼ì—ì„œ absolute leftì¡°ì ˆ\r\n  const body = document.body\r\n  const guideBack = document.querySelector('#guideBack')\r\n  const guideWrapper = document.querySelector('#guideWrapper')\r\n  const content = document.querySelector('#content')\r\n\r\n  guideBack.style.width = '0' // íšŒìƒ‰ 0\r\n\r\n  if (body.offsetWidth < 500) {\r\n    //ëª¨ë°”ì¼ ë©”ë‰´ ë™ì‘\r\n    //ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤ 0.2ì´ˆ\r\n    if (body.scrollTop >= 48) {\r\n      let diff = body.scrollTop / 20\r\n      let rect = document.querySelector('.menus').getBoundingClientRect()\r\n      let top = rect.top + body.scrollTop\r\n      if(!top) top = 365\r\n\r\n      const interval = setInterval(() => {\r\n        body.scrollTop -= diff\r\n        if (body.scrollTop <= top) {\r\n          clearInterval(interval)\r\n          body.scrollTop = top\r\n        }\r\n      }, 10)\r\n      setTimeout(()=>clearInterval(interval), 300)\r\n    }\r\n\r\n    if (guideWrapper.style.left && guideWrapper.style.left.replace('px', '') > -100) {\r\n      //ë©”ë‰´ ë‹«ê¸°\r\n      guideWrapper.style.left = '-300px' // ë©”ë‰´ 0\r\n      content.style.width = 'calc(100% - 16px)'\r\n    } else {\r\n      //ë©”ë‰´ ì—´ê¸°\r\n      guideBack.style.width = '100%' // íšŒìƒ‰ 100%\r\n      guideWrapper.style.width = '300px' //ë„ˆë¹„ 300px\r\n      guideWrapper.style.left = '0px' // ë©”ë‰´ 0\r\n    }\r\n  } else {\r\n    //ë°ìŠ¤í¬íƒ‘ ë©”ë‰´ ë™ì‘\r\n    if (guideWrapper.offsetWidth > 0) {\r\n      //ë©”ë‰´ ë‹«ê¸°\r\n      guideWrapper.style.width = 0\r\n      guideWrapper.style.boxShadow = 'unset'\r\n      content.style.maxWidth = `calc(1280px - 16px)`\r\n      content.style.width = `calc(100% - 16px)`\r\n    } else {\r\n      //ë©”ë‰´ ì—´ê¸°\r\n      content.style.maxWidth = `calc(1280px - 300px - 16px)`\r\n      content.style.width = `calc(100% - 300px - 16px)`\r\n      guideWrapper.style.width = '300px'\r\n      guideWrapper.style.boxShadow = '2px 2px 3px 1px gray'\r\n    }\r\n  }\r\n}\r\n\r\n//ëª¨ë°”ì¼ì—ì„œ íšŒìƒ‰ë¶€ë¶„ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°\r\nexport const closeMenuMobile = (e) => {\r\n  const body = document.querySelector('#body')\r\n  const guideBack = document.querySelector('#guideBack')\r\n  const guideWrapper = document.querySelector('#guideWrapper')\r\n  const content = document.querySelector('#content')\r\n\r\n  guideBack.style.width = '0' // íšŒìƒ‰ 0\r\n  if (body.offsetWidth < 500) {\r\n    //ëª¨ë°”ì¼\r\n    guideWrapper.style.left = '-300px' // ë©”ë‰´ 0\r\n    content.style.width = 'calc(100% - 16px)'\r\n  }\r\n}\r\n\r\nexport const checkToken = (login, setLogin) => {\r\n  //ë¡œê·¸ì¸ ë˜ì–´ìˆëŠ”ì§€ í† í° ì²´í¬í•˜ê¸°\r\n  let url = process.env.REACT_APP_URL + '/auth/check'\r\n  //url = process.env.REACT_APP_LOCAL_URL+'/auth/check'\r\n  Axios.get(url, { withCredentials: true })\r\n    .then((res) => {\r\n      if (res.data) {\r\n        //console.log('í† í° ì²´í¬ ì„±ê³µ')\r\n        setLogin(res.data)\r\n      } else {\r\n        //console.log('í† í° ì—†ìŒ') //res.status===204(No Content)\r\n        setLogin(false)\r\n      }\r\n    })\r\n    .catch((e) => {\r\n      //ì‹¤íŒ¨\r\n      console.log(e)\r\n    })\r\n}\r\n\r\n//ë¦¬ì‚¬ì´ì¦ˆì‹œì— ë™ì‘\r\nexport const resize = () => {\r\n  //ëŒ“ê¸€ textarea ì‚¬ì´ì¦ˆ ì¡°ì •\r\n  resizeTextarea()\r\n\r\n  //í™”ë©´ ë¦¬ì‚¬ì´ì¦ˆ ë˜ë©´ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±í•œ ìŠ¤íƒ€ì¼ ì§€ìš°ê¸°\r\n  const guideBack = document.querySelector('#guideBack')\r\n  const guideWrapper = document.querySelector('#guideWrapper')\r\n  const content = document.querySelector('#content')\r\n\r\n  if (document.body.offsetWidth < 500 && guideWrapper.style.left.replace('px', '') * 1 >= 0) {\r\n    //ëª¨ë°”ì¼ì´ê³  ë©”ë‰´ê°€ ì¼œì ¸ìˆë‹¤ë©´ ë©”ë‰´ ìœ ì§€í•¨\r\n  } else if (document.body.offsetWidth >= 500 && guideWrapper.offsetWidth === 0) {\r\n    //PCì´ê³  ë©”ë‰´ê°€ êº¼ì ¸ìˆë‹¤ë©´ ë©”ë‰´ ìœ ì§€í•¨\r\n  } else {\r\n    guideBack.style = null\r\n    guideWrapper.style = null\r\n    content.style = null\r\n  }\r\n\r\n  //ìœˆë„ìš° ì‚¬ì´ì¦ˆì— ë§ì¶°ì„œ ì½˜í…íŠ¸ ì‚¬ì´ì¦ˆ ì„¤ì •í•´ì¤Œ\r\n  if (content) {\r\n    content.style.height = document.body.offsetHeight - 48 - 16 + 'px'\r\n  }\r\n\r\n  // Quill editor ì•„ë˜ ë§ˆì§„ ë³€ê²½\r\n  const editor = document.querySelector('#editor')\r\n  const toolbar = document.querySelector('.ql-toolbar')\r\n  if (editor && toolbar) {\r\n    editor.style.marginBottom = toolbar.offsetHeight + 10 + 'px'\r\n  }\r\n}\r\n\r\n//ìŠ¤í¬ë¡¤ë˜ë©´ í—¤ë” ê°ì¶”ëŠ” hook\r\nexport function useToggleHeader() {\r\n  useEffect(() => {\r\n    toggleHeader()\r\n\r\n    let timer = null\r\n    document.body.addEventListener('scroll', function () {\r\n      //ìŠ¤ë¡œí‹€ë§ êµ¬í˜„\r\n      if (!timer) {\r\n        timer = setTimeout(() => {\r\n          timer = null\r\n          toggleHeader()\r\n        }, 100)\r\n      }\r\n    })\r\n    return () => document.body.removeEventListener('scroll', toggleHeader)\r\n  })\r\n\r\n  document.body.addEventListener('scroll', toggleHeader)\r\n  function toggleHeader() {\r\n    const $header = document.querySelector('#headerWrapper')\r\n    if (document.body.scrollTop <= 0) {\r\n      $header.style.top = 0\r\n    } else {\r\n      $header.style.top = '-48px'\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport './Header.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { closeMenuMobile, slideMenu } from '../utils/util'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Header(props) {\r\n  const store = React.useContext(AppContext)\r\n\r\n  const toggleSetting = () => {\r\n    const setting = document.querySelector('#settingWrapper')\r\n    if (setting) {\r\n      if (setting.style.display === 'block') {\r\n        setting.style.display = 'none'\r\n      } else {\r\n        setting.style.display = 'block'\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"headerWrapper\">\r\n      <div id=\"header\">\r\n        <Button className=\"menu\" onClick={slideMenu}>\r\n          <MenuIcon />\r\n        </Button>\r\n        <Link to=\"/\">\r\n          <Button id=\"title\" startIcon={<img id=\"logo\" alt=\"logo\" src={process.env.PUBLIC_URL + '/images/imcat_64.png'} />} onClick={closeMenuMobile}>\r\n            ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸\r\n          </Button>\r\n        </Link>\r\n        <Button className=\"hover\" onClick={toggleSetting}>\r\n          {!store.login ? (\r\n            <img className=\"profile\" alt=\"PROFILE\" src={process.env.PUBLIC_URL + '/images/noavatar.png'} />\r\n          ) : (\r\n            <img\r\n              className=\"profile\"\r\n              alt=\"PROFILE\"\r\n              src={store.login.imageUrl ? store.login.imageUrl : 'noimage' + Math.floor(Math.random() * 100)}\r\n              onError={(e) => {\r\n                e.target.src = process.env.PUBLIC_URL + '/images/dog' + (Math.floor(Math.random() * (3 - 1 + 1)) + 1) + '.png'\r\n              }}\r\n            />\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Header)\r\n","import React from 'react'\r\nimport './Body.scss'\r\n\r\nfunction Body(props) {\r\n  return <div id=\"body\">{props.children}</div>\r\n}\r\nexport default React.memo(Body)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Menus.scss'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Menus(props) {\r\n  const { menus } = props\r\n\r\n  //menuì •ë³´ë¥¼ ë°›ì•„ì„œ ë§í¬ ë©”ë‰´ ìƒì„±í•˜ê¸°\r\n  //menu { name: string, cnt: number, Object{ name: string, cnt: number}, Object{...}}\r\n  return (\r\n    <>\r\n      {menus &&\r\n        menus.map((i) => (\r\n          <div key={i.name}>\r\n            <NavLink exact to={i.name === 'home' ? '/' : `/tags/${i.name}`} className=\"list\" activeClassName=\"activeList\">\r\n              <Button>\r\n                <span className=\"menuName\">{i.name.substring(0, 1).toUpperCase() + i.name.substring(1)}</span>\r\n                <span className=\"menuOptions\">\r\n                  <span className=\"menuCnt\">{i.count}</span>\r\n                  <span className=\"menuExpandIcon\">{i.subMenus && i.subMenus.length >= 1 && <ExpandMoreIcon />}</span>\r\n                </span>\r\n              </Button>\r\n            </NavLink>\r\n            {i.subMenus &&\r\n              i.subMenus.length > 0 &&\r\n              i.subMenus.map((j) => (\r\n                <NavLink exact to={`/tags/${j.name}`} className=\"list subList\" activeClassName=\"activeList\" key={j.name}>\r\n                  <Button>\r\n                    <span className=\"menuName\">{j.name.substring(0, 1).toUpperCase() + j.name.substring(1)}</span>\r\n                    <span className=\"menuOptions\">\r\n                      <span className=\"menuCnt\">{j.count}</span>\r\n                    </span>\r\n                  </Button>\r\n                </NavLink>\r\n              ))}\r\n          </div>\r\n        ))}\r\n    </>\r\n  )\r\n}\r\nexport default React.memo(Menus)\r\n","import React from 'react'\r\nimport './Guide.scss'\r\nimport { AppContext } from '../App'\r\nimport Menus from './Menus'\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew'\r\nimport { closeMenuMobile } from '../utils/util'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Guide(props) {\r\n  const store = React.useContext(AppContext)\r\n\r\n  const scrollToTop = ()=>{\r\n    //ìµœìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ì´ë™\r\n    document.body.scrollTop = 0\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"guideBack\" onClick={closeMenuMobile}></div>\r\n      <div id=\"guideWrapper\" className=\"slideMenu\" onClick={closeMenuMobile}>\r\n        <div id=\"avatar\">\r\n          <img alt=\"avatar\" src={process.env.PUBLIC_URL + '/images/avatar.png'} title=\"Hello ğŸ˜„\" />\r\n          <div id=\"name\">Im kiyoung</div>\r\n          <div id=\"nickName\">imki123</div>\r\n          <div id=\"github\">\r\n            <a href=\"https://github.com/imki123\">\r\n              <img alt=\"github\" src={process.env.PUBLIC_URL + '/images/GitHub-Mark-32px.png'} /> <span>https://github.com/imki123</span>\r\n            </a>\r\n          </div>\r\n          <div id=\"introduction\">A web programmer who dreams of becoming a wise developer.</div>\r\n        </div>\r\n        <div className=\"menus\" onClick={scrollToTop}>\r\n          <Menus menus={store.menus} />\r\n        </div>\r\n        <div className=\"menus\" onClick={scrollToTop}>\r\n          <a\r\n            href=\"https://imki123.github.io/interactive_coding\"\r\n            className=\"list\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              window.open('https://imki123.github.io/interactive_coding')\r\n            }}\r\n          >\r\n            <Button className=\"menuLink\">\r\n              <div>\r\n                <img alt=\"onandoff\" src={process.env.PUBLIC_URL + '/images/imcat_64.png'} />\r\n                Interactive Coding\r\n              </div>\r\n              <OpenInNewIcon />\r\n            </Button>\r\n          </a>\r\n          <a\r\n            href=\"https://imki123.github.io/catbook\"\r\n            className=\"list\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              window.open('https://imki123.github.io/catbook')\r\n            }}\r\n          >\r\n            <Button className=\"menuLink\">\r\n              <div>\r\n                <img alt=\"catbook\" src={process.env.PUBLIC_URL + '/images/catbook_64.png'} />\r\n                Catbook\r\n              </div>\r\n              <OpenInNewIcon />\r\n            </Button>\r\n          </a>\r\n          <a\r\n            href=\"https://imki123.github.io/onandoff\"\r\n            className=\"list\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              window.open('https://imki123.github.io/onandoff')\r\n            }}\r\n          >\r\n            <Button className=\"menuLink\">\r\n              <div>\r\n                <img alt=\"onandoff\" src={process.env.PUBLIC_URL + '/images/imcat_64.png'} />\r\n                OnAndOff\r\n              </div>\r\n              <OpenInNewIcon />\r\n            </Button>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default React.memo(Guide)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Comment.scss'\r\nimport { AppContext } from '../App'\r\nimport Axios from 'axios'\r\nimport { resizeTextarea } from '../utils/util'\r\n\r\nfunction Comment(props) {\r\n  const store = React.useContext(AppContext)\r\n  const { comment, post, refreshComment } = props\r\n  const [imageUrl, setImageUrl] = useState('noimage')\r\n  let update = false\r\n  let date = comment.publishedDate.substring(0, 16).replace('T', ' ')\r\n  useEffect(() => {\r\n    const textarea = document.querySelector(`#comment_${post.postId}_${comment.commentId} textarea`)\r\n    textarea.value = comment.content\r\n\r\n    //ëŒ“ê¸€ í”„ë¡œí•„ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°\r\n    if (comment.username) {\r\n      let url = process.env.REACT_APP_URL + '/auth/user'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/auth/user'\r\n      Axios.post(url, {\r\n        withCredentials: true, //CORS\r\n        data: {\r\n          username: comment.username,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.data.imageUrl) setImageUrl('noimage' + Math.floor(Math.random() * 100))\r\n          else setImageUrl(res.data.imageUrl)\r\n        })\r\n        .catch((e) => {\r\n          setImageUrl('noimage' + Math.floor(Math.random() * 100))\r\n        })\r\n    }\r\n  }, [comment, post.postId, setImageUrl])\r\n\r\n  const updateComment = (e) => {\r\n    //ëŒ“ê¸€ ìˆ˜ì •\r\n    const textarea = document.querySelector(`#comment_${post.postId}_${comment.commentId} textarea`)\r\n    if (!update) {\r\n      update = true\r\n      textarea.classList.add('updateMode')\r\n      textarea.readOnly = false\r\n      textarea.focus()\r\n    } else if (window.confirm('ëŒ“ê¸€ì„ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      update = false\r\n      textarea.classList.remove('updateMode')\r\n      textarea.readOnly = true\r\n\r\n      let url = process.env.REACT_APP_URL + `/comments/${post.postId}/${comment.commentId}`\r\n      //url = process.env.REACT_APP_LOCAL_URL+`/comments/${post.postId}/${comment.commentId}`\r\n\r\n      Axios.patch(url, {\r\n        //ëŒ“ê¸€ ìˆ˜ì •\r\n        withCredentials: true, //CORS\r\n        data: {\r\n          content: textarea.value,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(`${comment.commentId}ë²ˆ ëŒ“ê¸€ ìˆ˜ì • ì„±ê³µ`)\r\n          refreshComment() //í¬ìŠ¤íŠ¸ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê¸°\r\n        })\r\n        .catch((e) => alert(e)) //ì‹¤íŒ¨\r\n    }\r\n  }\r\n\r\n  const deleteComment = (e) => {\r\n    if (window.confirm('ì‚­ì œ í›„ì—ëŠ” ë³µêµ¬ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤. ì •ë§ë¡œ ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      let url = process.env.REACT_APP_URL + `/comments/delete/${post.postId}/${comment.commentId}`\r\n      //url = process.env.REACT_APP_LOCAL_URL+`/comments/delete/${post.postId}/${comment.commentId}`\r\n\r\n      Axios.patch(url, {\r\n        //í¬ìŠ¤íŠ¸ ì‚­ì œ\r\n        withCredentials: true, //CORS\r\n      })\r\n        .then((res) => {\r\n          console.log(`${comment.commentId}ë²ˆ ëŒ“ê¸€ ì‚­ì œ ì„±ê³µ`)\r\n          refreshComment() //í¬ìŠ¤íŠ¸ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê¸°\r\n        })\r\n        .catch((e) => alert(e)) //ì‹¤íŒ¨\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"commentWrapper\" id={`comment_${post.postId}_${comment.commentId}`}>\r\n      <div className=\"comment\">\r\n        <div className=\"commentProfile\">\r\n          {!comment.username ? (\r\n            <img alt=\"PROFILE\" src={process.env.PUBLIC_URL + '/images/noavatar.png'} />\r\n          ) : (\r\n            <img\r\n              alt=\"PROFILE\"\r\n              src={imageUrl}\r\n              onError={(e) => {\r\n                e.target.src = process.env.PUBLIC_URL + '/images/dog' + (Math.floor(Math.random() * (3 - 1 + 1)) + 1) + '.png'\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"commentContent\">\r\n          {comment.username === store.login.username ? (\r\n            <span className=\"commentUsername\" style={{ fontWeight: 'bold' }}>\r\n              {comment.username}\r\n            </span>\r\n          ) : (\r\n            <span className=\"commentUsername\">{comment.username}</span>\r\n          )}\r\n          <span className=\"commentDate\">\r\n            {' '}\r\n            - {date} {comment.updated && '(ìˆ˜ì •ë¨)'}\r\n          </span>\r\n          <textarea readOnly onChange={resizeTextarea} />\r\n        </div>\r\n      </div>\r\n      {((comment.username && comment.username === store.login.username) || store.login.username === 'imki123') && (\r\n        <div className=\"commentButtons\">\r\n          <button className=\"commentButton\" onClick={updateComment}>\r\n            ìˆ˜ì •\r\n          </button>\r\n          <button className=\"commentButton\" style={{ background: 'red' }} onClick={deleteComment}>\r\n            ì‚­ì œ\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Comment)\r\n","// components/Meta\r\n/* eslint-disable no-undefined */\r\nimport React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst locales = {\r\n  en: 'en_US',\r\n  ko: 'ko_KR',\r\n}\r\n\r\nconst Meta = ({ data }) => {\r\n  const lang = locales[data.locale] || locales['en']\r\n  const title = data.title\r\n  const description = data.description\r\n  const image = data.image !== undefined && `${data.image}`\r\n  const canonical = data.canonical === undefined ? null : `https://imki123.github.io/${data.canonical}`\r\n  const type = data.type === undefined ? 'website' : data.type\r\n  const width = data.image && (data.width || 1200)\r\n  const height = data.image && (data.height || 630)\r\n\r\n  return (\r\n    <Helmet titleTemplate=\"%s\">\r\n      <html lang={lang} />\r\n      <title>{title}</title>\r\n      <meta name=\"description\" content={description} />\r\n      {canonical ? <link rel=\"canonical\" href={canonical} /> : null}\r\n      {image ? <link rel=\"image_src\" href={image} /> : null}\r\n      {image ? <meta itemprop=\"image\" content={image} /> : null}\r\n\r\n      <meta property=\"og:site_name\" content=\"ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸\" />\r\n      <meta property=\"og:title\" content={title} />\r\n      {description ? <meta property=\"og:description\" content={description} /> : null}\r\n      {canonical ? <meta property=\"og:url\" content={canonical} /> : null}\r\n      <meta property=\"og:locale\" content={locales[lang]} />\r\n      <meta property=\"og:type\" content={type} />\r\n      {image ? <meta property=\"og:image\" content={image} /> : null}\r\n      {width ? <meta property=\"og:image:width\" content={width} /> : null}\r\n      {height ? <meta property=\"og:image:height\" content={height} /> : null}\r\n      <meta property=\"fb:pages\" content=\"ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸\" />\r\n\r\n      {/* change type of twitter if there is no image? */}\r\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n      <meta name=\"twitter:title\" content={title} />\r\n      {description ? <meta name=\"twitter:description\" content={description} /> : null}\r\n      {image ? <meta name=\"twitter:image\" content={image} /> : null}\r\n      <meta name=\"twitter:site\" content=\"@ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸\" />\r\n      {canonical ? <link rel=\"alternate\" href={canonical} hreflang={lang} /> : null}\r\n    </Helmet>\r\n  )\r\n}\r\n\r\nexport default Meta\r\n","import React from 'react'\r\nimport './PostList.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction PostList(props) {\r\n  const { list, no } = props\r\n  let date = list.publishedDate.substring(0, 10).replace('T', ' ')\r\n\r\n  return (\r\n    <Link to={`/posts/${list.postId}`}>\r\n      <Button className=\"postList no-drag\">\r\n        <div className=\"postListTags\">\r\n          <span className=\"postTags\">\r\n            Tag : {list.tags[0]}\r\n            {list.tags[1] ? `, ${list.tags[1]}` : ''}\r\n          </span>\r\n          <span className=\"postDate\">\r\n            {list.views ? list.views : 0}, {date}\r\n          </span>\r\n        </div>\r\n        <div className=\"postListHeader\">\r\n          <div>\r\n            <span className=\"postId\">{no}.</span>\r\n            <span className=\"postTitle\">{list.title}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"postBody\">{list.text}</div>\r\n      </Button>\r\n    </Link>\r\n  )\r\n}\r\nexport default React.memo(PostList)\r\n","import React from 'react'\r\nimport './Recents.scss'\r\n\r\nimport PostList from './PostList'\r\n\r\nfunction Recents(props) {\r\n  const { title, list } = props\r\n  return (\r\n    <div className=\"post recents\">\r\n      <div className=\"postListTitle\">{title}</div>\r\n      {list && list.map((i, idx) => <PostList no={idx + 1} list={i} key={i.postId} />)}\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Recents)\r\n","import Axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\nimport './CommentLists.scss'\r\nimport Meta from './Meta'\r\n\r\nfunction CommentLists(props) {\r\n  const store = React.useContext(AppContext)\r\n  const { list, location } = props\r\n  const [comments, setComments] = useState()\r\n  const [commentCnt, setCommentCnt] = useState(10)\r\n  const [recentAll, setRecentAll] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (list) setComments(list) //propsë¡œ ë°›ì€ listê°€ ìˆìœ¼ë©´ commentsì— ì €ì¥\r\n\r\n    if (location && (location.pathname === '/comments' || location.pathname === '/comments/')) {\r\n      //ì „ì²´ë¦¬ìŠ¤íŠ¸ë©´ Axiosë¡œ comments ê°€ì ¸ì˜´\r\n      setRecentAll('recentAll')\r\n      let url = process.env.REACT_APP_URL + '/comments/recentAll'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/comments/recentAll'\r\n      Axios.get(url)\r\n        .then((res) => {\r\n          //console.log('comments:', res.data)\r\n          setComments(res.data)\r\n          setCommentCnt(20)\r\n          if (!res.data) {\r\n            setComments('')\r\n          }\r\n        })\r\n        .catch((res) => {\r\n          setComments('')\r\n          //console.log(res)\r\n        })\r\n    }\r\n  }, [location, list])\r\n\r\n  useEffect(() => {\r\n    if (store) store.setReady(false)\r\n    if (comments) {\r\n      store.setReady(true)\r\n    } else if (comments === '') {\r\n      store.setReady(true)\r\n    }\r\n  })\r\n\r\n  //ëŒ“ê¸€ 10ê°œ ë”ë³´ê¸°\r\n  const more = (e) => {\r\n    setCommentCnt(commentCnt + 10)\r\n  }\r\n\r\n  return (\r\n    <div className={`post recents recentComment ${recentAll}`}>\r\n      {location && (location.pathname === '/comments' || location.pathname === '/comments/') && (\r\n        <Meta\r\n          data={{\r\n            title: 'ìµœê·¼ ëŒ“ê¸€ ëª©ë¡',\r\n            description: comments && comments.reduce((a, b) => a + ' / ' + b.content, ''),\r\n            canonical: `comments`,\r\n          }}\r\n        />\r\n      )}\r\n      <div className=\"postListTitle\">ìµœì‹  ëŒ“ê¸€ {list && <Link to=\"/comments\">ë”ë³´ê¸°</Link>}</div>\r\n      {comments &&\r\n        comments.map((i, idx) => (\r\n          <div key={i.title + idx}>\r\n            {idx < commentCnt && (\r\n              <Link to={`/posts/${i.postId}/#comments`}>\r\n                <div className=\"postList no-drag\">\r\n                  <div className=\"postListHeader\">\r\n                    <div>\r\n                      <span className=\"postId\">{idx + 1}.</span>\r\n                      <span className=\"username\">{i.username}</span>\r\n                    </div>\r\n                    <span className=\"postDate\">{i.publishedDate && i.publishedDate.substring(0, 19).replace('T', ' ')}</span>\r\n                  </div>\r\n                  <div className=\"postBody\">{i.content}</div>\r\n                  <div className=\"postTitle\">{i.title}</div>\r\n                </div>\r\n              </Link>\r\n            )}\r\n          </div>\r\n        ))}\r\n      {comments && comments.length > commentCnt && (\r\n        <div className=\"more\">\r\n          <span className=\"moreButton\" onClick={more}>\r\n            ëŒ“ê¸€ ë”ë³´ê¸°\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(CommentLists)\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React from 'react'\r\nimport './Emoji.scss'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\n\r\nfunction Emoji(props) {\r\n  const { emojis } = props\r\n  let splited = emojis.split(',')\r\n\r\n  const copied = (e) => {\r\n    let emoji = e.target\r\n    emoji.style.background = 'blue'\r\n    setTimeout(function () {\r\n      emoji.style.background = 'unset'\r\n    }, 1000)\r\n  }\r\n\r\n  return (\r\n    <span className=\"Emoji\">\r\n      {splited &&\r\n        splited.map((i, idx) => (\r\n          <CopyToClipboard key={idx} options={{ format: 'text/plain' }} text={i}>\r\n            <span onClick={copied}>{i}</span>\r\n          </CopyToClipboard>\r\n        ))}\r\n      <span\r\n        className=\"EmojiLink\"\r\n        onClick={() => {\r\n          window.open('https://copy.emojiall.com/ko/')\r\n        }}\r\n      >\r\n        [ì´ëª¨ì§€ğŸ”—]\r\n      </span>\r\n    </span>\r\n  )\r\n}\r\nexport default React.memo(Emoji)\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React, { useEffect, useState } from 'react'\r\nimport './Post.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { useQuill } from 'react-quilljs'\r\nimport Comment from './Comment'\r\nimport { AppContext } from '../App'\r\nimport RefreshIcon from '@material-ui/icons/Refresh'\r\nimport Axios from 'axios'\r\nimport Meta from './Meta'\r\nimport Recents from './Recents'\r\nimport CommentLists from './CommentLists'\r\nimport Emoji from './Emoji'\r\nimport { resizeTextarea } from '../utils/util'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Post({ match, location, history }) {\r\n  const store = React.useContext(AppContext)\r\n  let { postId } = match.params\r\n  const [post, setPost] = useState(false)\r\n  const [postBody, setPostBody] = useState()\r\n  const [comments, setComments] = useState([])\r\n  const [commentCnt, setCommentCnt] = useState(3)\r\n\r\n  const [recents, setRecents] = useState([])\r\n  const [popular, setPopular] = useState([])\r\n  const [recentComments, setRecentComments] = useState([])\r\n\r\n  const modules = { syntax: true }\r\n  const formats = ['bold', 'italic', 'underline', 'strike', 'code-block', 'blockquote', 'size', 'header', 'align', 'color', 'background', 'indent', 'list', 'link', 'image', 'video', 'clean']\r\n  const { quill, quillRef } = useQuill({ modules, formats, readOnly: true })\r\n\r\n  useEffect(() => {\r\n    setPost(false)\r\n    setPostBody(false)\r\n    //í¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°\r\n    let id = 1\r\n    if (postId) id = postId\r\n    let url = process.env.REACT_APP_URL + '/posts/' + id\r\n    //url = process.env.REACT_APP_LOCAL_URL + '/posts/' + id\r\n    Axios.get(url, {\r\n      withCredentials: true,\r\n    })\r\n      .then((res) => {\r\n        setComments(res.data.comments)\r\n        setPost(res.data)\r\n      })\r\n      .catch((e) => {\r\n        alert('ì°¾ìœ¼ì‹œëŠ” í˜ì´ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.\\n' + e)\r\n        history.go(-1)\r\n      }) //ì‹¤íŒ¨\r\n\r\n    //í¬ìŠ¤íŠ¸ë°”ë”” ê°€ì ¸ì˜¤ê¸°\r\n    url = process.env.REACT_APP_URL + '/posts/postBody/' + id\r\n    //url = process.env.REACT_APP_LOCAL_URL + '/posts/postBody/' + id\r\n    Axios.get(url)\r\n      .then((res) => {\r\n        setPostBody(res.data.body)\r\n\r\n        if (location.hash) {\r\n          //hashê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ìŠ¤í¬ë¡¤\r\n          setTimeout(function () {\r\n            //postBodyê°€ ë¡œë“œëœ ì´í›„ì— ìŠ¤í¬ë¡¤ì´ ë˜ì•¼í•´ì„œ 0.01ì´ˆ íƒ€ì„ì•„ì›ƒ ì¶”ê°€..\r\n            const content = document.body\r\n            const elem = document.querySelector(location.hash)\r\n            if (content && elem) {\r\n              let contentScroll = content.scrollTop\r\n              let elemTop = elem.offsetTop\r\n              let dif = (elemTop - contentScroll) / 10\r\n              let frame\r\n              //í”„ë ˆì„ì´ í˜¹ì‹œë¼ë„ ì•ˆë©ˆì¶œ ìˆ˜ ìˆì–´ì„œ 1ì´ˆ í›„ì— ê°•ì œë¡œ ì¢…ë£Œí•¨\r\n              setTimeout(function () {\r\n                clearInterval(frame)\r\n              }, 1100)\r\n              if (elemTop > contentScroll) {\r\n                frame = setInterval(function () {\r\n                  //ì¸í„°ë²Œ\r\n                  if (content.scrollTop + dif >= elemTop || content.scrollTop >= content.scrollHeight - content.offsetHeight) {\r\n                    clearInterval(frame)\r\n                  } else {\r\n                    content.scrollTop += dif\r\n                  }\r\n                }, 10)\r\n              } else {\r\n                frame = setInterval(function () {\r\n                  if (content.scrollTop <= elemTop) {\r\n                    clearInterval(frame)\r\n                  } else {\r\n                    content.scrollTop += dif\r\n                  }\r\n                }, 10)\r\n              }\r\n            }\r\n          }, 10)\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      }) //ì‹¤íŒ¨\r\n\r\n    //í™ˆì¼ê²½ìš° recents, popular, recentComments ê°€ì ¸ì˜´\r\n    if (location.pathname === '/') {\r\n      url = process.env.REACT_APP_URL + '/posts/popular'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/posts/popular'\r\n      Axios.get(url).then((res) => {\r\n        setPopular(res.data)\r\n      })\r\n\r\n      url = process.env.REACT_APP_URL + '/posts/recents'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/posts/recents'\r\n      Axios.get(url).then((res) => {\r\n        setRecents(res.data)\r\n      })\r\n\r\n      url = process.env.REACT_APP_URL + '/comments/recent'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/comments/recent'\r\n      Axios.get(url).then((res) => {\r\n        setRecentComments(res.data)\r\n      })\r\n    }\r\n  }, [location, postId, history])\r\n\r\n  //í¬ìŠ¤íŠ¸ ë°”ë””ê°€ ì¤€ë¹„ë˜ë©´ quillì— í¬ìŠ¤íŠ¸ ë°”ë””ë¥¼ ê·¸ë¦¬ê³ \r\n  //í¬ìŠ¤íŠ¸ ë°”ë””ê°€ ì—†ìœ¼ë©´ í¬ìŠ¤íŠ¸ê°€ ìˆìœ¼ë©´ quillì— í¬ìŠ¤íŠ¸ í…ìŠ¤íŠ¸ë¥¼ ê·¸ë¦¬ê¸°.\r\n  useEffect(() => {\r\n    if (quill) {\r\n      if (postBody) {\r\n        quill.setContents(postBody)\r\n      } else if (post) {\r\n        quill.setText(post.text)\r\n      }\r\n    }\r\n  }, [quill, postBody, post])\r\n\r\n  //í¬ìŠ¤íŠ¸ê°€ ì¤€ë¹„ë˜ë©´ í™”ë©´ ë³´ì´ê¸°\r\n  useEffect(() => {\r\n    store.setReady(false)\r\n    if (post) {\r\n      store.setReady(true)\r\n\r\n      //í˜ì´ì§€ ì´ë™í•  ë•Œ activeListManual ìŠ¤íƒ€ì¼ì„ ëª¨ë‘ ì§€ì›€\r\n      const tags = document.querySelectorAll('.activeListManual')\r\n      if (tags) {\r\n        for (let i of tags) {\r\n          i.classList.remove('activeListManual')\r\n        }\r\n      }\r\n\r\n      //íƒœê·¸ ì°¾ì•„ì„œ activeListManual ì ìš©\r\n      let activeTags\r\n      if (post.tags[1]) {\r\n        activeTags = document.querySelectorAll(`a[href=\"/tags/${post.tags[1]}\"]`)\r\n      } else if (post.tags[0]) {\r\n        activeTags = document.querySelectorAll(`a[href=\"/tags/${post.tags[0]}\"]`)\r\n      }\r\n      if (activeTags) {\r\n        for (let i of activeTags) {\r\n          i.classList.add('activeListManual')\r\n        }\r\n      }\r\n    }\r\n  })\r\n\r\n  const deletePost = (e) => {\r\n    if (window.confirm('ê¸€ ì‚­ì œ ì‹œ ë³µêµ¬ê°€ ë¶ˆê°€í•©ë‹ˆë‹¤. í•´ë‹¹ ê¸€ì„ ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      const postId = e.target.id\r\n      let url = process.env.REACT_APP_URL + '/posts/' + postId\r\n      //url = process.env.REACT_APP_LOCAL_URL+'/posts/'+postId\r\n\r\n      Axios.delete(url, {\r\n        //ê¸€ ì‚­ì œ\r\n        withCredentials: true, //CORS\r\n      })\r\n        .then((res) => {\r\n          console.log(`${postId}ë²ˆ ê¸€ ì‚­ì œ ì„±ê³µ`)\r\n          history.go(-1)\r\n        })\r\n        .catch((e) => alert(e)) //ì‹¤íŒ¨\r\n    }\r\n  }\r\n\r\n  const postComment = (e) => {\r\n    const comment = document.querySelector(`.commentContent textarea`) //ëŒ“ê¸€ í…ìŠ¤íŠ¸\r\n    if (comment && comment.value !== '' && window.confirm('ëŒ“ê¸€ì„ ì‘ì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      let url = process.env.REACT_APP_URL + '/comments/' + post.postId\r\n      //url = process.env.REACT_APP_LOCAL_URL+'/comments/'+post.postId\r\n\r\n      Axios.patch(url, {\r\n        //ëŒ“ê¸€ ì‘ì„±\r\n        withCredentials: true, //CORS\r\n        data: {\r\n          username: store.login.username,\r\n          content: comment.value,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(`${post.postId} ëŒ“ê¸€ ì¶”ê°€ ì„±ê³µ`)\r\n          refreshComment(null, setCommentCnt(res.data.comments.length)) //í¬ìŠ¤íŠ¸ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê³  ëŒ“ê¸€ ëê¹Œì§€ ë³´ì´ê¸°\r\n          comment.value = ''\r\n        })\r\n        .catch((e) => alert(e)) //ì‹¤íŒ¨\r\n    }\r\n  }\r\n\r\n  const refreshComment = (e, func) => {\r\n    //ëŒ“ê¸€ ê°€ì ¸ì˜¤ê¸°\r\n    let url = process.env.REACT_APP_URL + '/comments/' + post.postId\r\n    //url = process.env.REACT_APP_LOCAL_URL+'/comments/'+post.postId\r\n\r\n    let svg //refresh ì•„ì´ì½˜\r\n    if (e && e.target) svg = e.target.querySelector('svg')\r\n    if (svg) svg.classList.add('refreshing') //refresh ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘\r\n\r\n    Axios.get(url, {\r\n      withCredentials: true,\r\n    }) //ëŒ“ê¸€ ìƒˆë¡œê³ ì¹˜ê¸°\r\n      .then((res) => {\r\n        console.log(`${post.postId} ëŒ“ê¸€ ìƒˆë¡œê³ ì¹¨`)\r\n        setComments(res.data) //ëŒ“ê¸€ ì €ì¥\r\n        if (svg) svg.classList.remove('refreshing') //refresh ì• ë‹ˆë©”ì´ì…˜ ë\r\n\r\n        if (func) func() //íŒŒë¼ë¯¸í„°ì— í•¨ìˆ˜ê°€ ìˆìœ¼ë©´ í•¨ìˆ˜ ì‹¤í–‰\r\n      })\r\n      .catch((e) => {\r\n        //ì‹¤íŒ¨\r\n        if (svg) svg.classList.remove('refreshing') //refresh ì• ë‹ˆë©”ì´ì…˜ ë\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  //ëŒ“ê¸€ 10ê°œ ë”ë³´ê¸°\r\n  const more = (e) => {\r\n    setCommentCnt(commentCnt + 10)\r\n  }\r\n\r\n  //ëŒ“ê¸€ ë”ë³´ê¸°, ëŒ“ê¸€ ìƒˆë¡œê³ ì¹¨ í•˜ë©´ ë¦¬ì‚¬ì´ì¦ˆ\r\n  useEffect(() => {\r\n    resizeTextarea()\r\n  }, [commentCnt, store, comments])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"post\">\r\n        {location.pathname === '/' ? (\r\n          <Meta\r\n            data={{\r\n              title: 'ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸',\r\n              description: post.text ? post.text.replace(/\\n/g, ' ') : '',\r\n              canonical: '',\r\n            }}\r\n          />\r\n        ) : (\r\n          <Meta data={{ title: post.title, description: post.text ? post.text.replace(/\\n/g, ' ') : '', canonical: `posts/${post.postId}` }} />\r\n        )}\r\n        {/* íƒœê·¸ */}\r\n        <div className=\"nav\">\r\n          <div>\r\n            <span>Tag : </span>\r\n            {post.tags &&\r\n              post.tags.map((i, idx) =>\r\n                idx === 0 ? (\r\n                  <span key={i}>\r\n                    <Link to={i === 'home' ? '/' : `/tags/${i}`}>{i}</Link>\r\n                  </span>\r\n                ) : (\r\n                  <span key={i}>\r\n                    , <Link to={`/tags/${i}`}>{i}</Link>\r\n                  </span>\r\n                ),\r\n              )}\r\n          </div>\r\n          <div>\r\n            {/* ì¡°íšŒìˆ˜ */}\r\n            {\r\n              /* post.postId !== 1 &&  */ <span>\r\n                ì¡°íšŒìˆ˜: {post.views ? post.views + 1 : 1}\r\n                {', '}\r\n              </span>\r\n            }\r\n            {/* ê²Œì‹œì¼ì */}\r\n            {post && post.publishedDate.substring(0, 16).replace('T', ' ')}\r\n          </div>\r\n        </div>\r\n\r\n        {/* ê¸€ ìˆ˜ì • ì‚­ì œ ë²„íŠ¼ */}\r\n        {store.login && store.login.username === 'imki123' && (\r\n          <div className=\"postButtons\">\r\n            <Link to={`/quill/${post.postId}`} className=\"hover no-drag\">\r\n              ìˆ˜ì •\r\n            </Link>\r\n            &nbsp;\r\n            <button onClick={deletePost} id={post.postId} style={{ background: 'red' }}>\r\n              ì‚­ì œ\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <h2 className=\"postTitle\">{post.title}</h2>\r\n        <div className=\"postContent\">\r\n          {/* ë³¸ë¬¸ */}\r\n          <div id=\"editor\">\r\n            <div ref={quillRef} />\r\n          </div>\r\n          <div className=\"hiddenText\">{post.text}</div>\r\n\r\n          {/* ê¸€ ìˆ˜ì • ì‚­ì œ ë²„íŠ¼ */}\r\n          {store.login && store.login.username === 'imki123' && (\r\n            <div className=\"postButtons\">\r\n              <Link to={`/quill/${post.postId}`} className=\"hover no-drag\">\r\n                ìˆ˜ì •\r\n              </Link>\r\n              &nbsp;\r\n              <button onClick={deletePost} id={post.postId} style={{ background: 'red' }}>\r\n                ì‚­ì œ\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* ëŒ“ê¸€ ì‘ì„±*/}\r\n        {location.pathname !== '/' && (\r\n          <>\r\n            <div className=\"EmojiDiv\">\r\n              <Emoji emojis={'ğŸ˜„,ğŸ¤£,ğŸ¥°,ğŸ˜,ğŸ˜,ğŸ˜­,ğŸ‘,ğŸ•,ğŸˆ,â˜€,ğŸŒ™,â­,â˜,ğŸŒ§,ğŸ’§,â™¥,â¤,ğŸ’•'} />\r\n            </div>\r\n            <div className=\"writeComment\">\r\n              <div className=\"commentProfile\">\r\n                {!store.login ? (\r\n                  <img alt=\"PROFILE\" src={process.env.PUBLIC_URL + '/images/noavatar.png'} />\r\n                ) : (\r\n                  <img\r\n                    alt=\"PROFILE\"\r\n                    src={store.login.imageUrl}\r\n                    onError={(e) => {\r\n                      e.target.src = process.env.PUBLIC_URL + '/images/dog' + (Math.floor(Math.random() * (3 - 1 + 1)) + 1) + '.png'\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n              <div className=\"commentContent\">\r\n                {store.login ? (\r\n                  <span className=\"commentUsername\">{store.login.username}</span>\r\n                ) : (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className=\"loginButton\"\r\n                    onClick={() => {\r\n                      history.push('/login')\r\n                    }}\r\n                  >\r\n                    ë¡œê·¸ì¸\r\n                  </Button>\r\n                )}\r\n                {store.login ? <textarea onChange={resizeTextarea} placeholder=\" ëŒ“ê¸€ì„ ë‚¨ê²¨ì£¼ì„¸ìš” ğŸ˜„\" /> : <textarea readOnly placeholder=\" ë¡œê·¸ì¸ í›„ì— ëŒ“ê¸€ì„ ë‚¨ê²¨ì£¼ì„¸ìš” ğŸ˜„\" />}\r\n              </div>\r\n            </div>\r\n            <div className=\"commentButtons\">\r\n              {store.login && (\r\n                <button className=\"commentButton\" onClick={postComment}>\r\n                  ëŒ“ê¸€ì‘ì„±\r\n                </button>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* ëŒ“ê¸€ ëª©ë¡ */}\r\n        {comments && comments.length > 0 && (\r\n          <div id=\"comments\">\r\n            <div className=\"commentTitle\">\r\n              <div className=\"commentCnt\">ëŒ“ê¸€ {comments.length}ê°œ</div>\r\n              <span className=\"commentRefresh\" onClick={refreshComment}>\r\n                ëŒ“ê¸€ ìƒˆë¡œê³ ì¹¨ <RefreshIcon />\r\n              </span>\r\n            </div>\r\n            {comments.map((i, idx) => idx < commentCnt && <Comment post={post} comment={i} key={i.commentId} refreshComment={refreshComment} />)}\r\n            {comments.length > commentCnt && (\r\n              <div className=\"more\">\r\n                <span className=\"moreButton\" onClick={more}>\r\n                  ëŒ“ê¸€ ë”ë³´ê¸°\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n      {location.pathname === '/' && (\r\n        <div className=\"homeLists\">\r\n          <Recents title=\"ìµœì‹ ê¸€\" list={recents} />\r\n          <Recents title=\"ì¸ê¸°ê¸€\" list={popular} />\r\n          <CommentLists list={recentComments} />\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default React.memo(Post)\r\n","import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\nimport './NotFoundPage.scss'\r\n\r\nfunction NotFoundPage() {\r\n  const store = React.useContext(AppContext)\r\n  const history = useHistory()\r\n  useEffect(() => {\r\n    //console.log(`Not found page! https://imki123.github.io/`)\r\n    store.setReady(true)\r\n  })\r\n\r\n  const goBack = (e) => {\r\n    history.go(-1)\r\n  }\r\n\r\n  return (\r\n    <div className=\"notFound\">\r\n      <div className=\"title\">Not Found Page</div>\r\n      <div className=\"goHome\">\r\n        <span onClick={goBack}>Go back</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(NotFoundPage)\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Login.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport Meta from './Meta'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Login({ history, match, location }) {\r\n  const store = React.useContext(AppContext)\r\n  let browser = ''\r\n  const agent = navigator.userAgent.toLowerCase()\r\n  if (agent.indexOf('chrome') > -1) browser = 'chrome'\r\n  else if (agent.indexOf('safari') > -1) browser = 'safari'\r\n\r\n  const [checkUsername, setCheckUsername] = useState('')\r\n  const [checkPassword, setCheckPassword] = useState('')\r\n  const [checkPasswordConfirm, setCheckPasswordConfirm] = useState('')\r\n  const [buttonName, setButtonName] = useState('ë¡œê·¸ì¸')\r\n  const [userinfo, setUserinfo] = useState()\r\n\r\n  useEffect(() => {\r\n    //ë¡œê·¸ì¸í™”ë©´ì—ì„œ ë¡œê·¸ì¸ì€ ì•ˆë˜ì–´ìˆëŠ”ë° ìœ ì €ì •ë³´ê°€ ìˆìœ¼ë©´ ë¡œê·¸ì¸ ì²˜ë¦¬\r\n    let frame\r\n    const userinfoElem = document.querySelector('#userinfo')\r\n    if (location.pathname === '/login' || location.pathname === '/login/' || location.pathname === '/register' || location.pathname === '/register/') {\r\n      if (!store.login) {\r\n        frame = setInterval(function () {\r\n          console.log('ìœ ì €ì •ë³´ ì²´í¬')\r\n          if (userinfoElem && userinfoElem.value) {\r\n            //userinfoê°€ ìˆìœ¼ë©´ ë¡œê·¸ì¸ ì²˜ë¦¬\r\n            //ìƒˆë¡œê³ ì¹¨ë˜ê±°ë‚˜, ë¡œê·¸ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ userinfoë¥¼ ê°€ì ¸ì˜´\r\n            clearInterval(frame) //userinfo ìˆìœ¼ë©´ ë¡œê·¸ì¸ ì²´í¬ ì¤‘ì§€\r\n            let user = JSON.parse(userinfoElem.value)\r\n\r\n            if (user.host === 'naver') {\r\n              let email = user.email\r\n              let username\r\n              if (email) {\r\n                username = email.substring(0, email.indexOf('@')) + '_n'\r\n                if (username === 'popping2606_n') username = 'imki123' //ë‚´ì•„ì´ë””\r\n                console.log('ë„¤ì´ë²„ ë¡œê·¸ì¸ ì„±ê³µ:', username)\r\n                user = {\r\n                  username: username,\r\n                  email: email,\r\n                  imageUrl: user.profile_image,\r\n                  host: user.host,\r\n                }\r\n              } else {\r\n                console.log('ì´ë©”ì¼ ì •ë³´ ì—†ìŒ. ë¡œê·¸ì•„ì›ƒ.')\r\n                alert('ì´ë©”ì¼ì´ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ì´ ë¶ˆê°€í•´ìš”. ì´ë©”ì¼ ë™ì˜ ë¶€íƒë“œë ¤ìš” ğŸ˜„')\r\n                //ë„¤ì´ë²„ ë¡œê·¸ì•„ì›ƒ\r\n                const naverLogout = document.querySelector('#naverLogout')\r\n                if (naverLogout) naverLogout.click()\r\n                userinfoElem.value = ''\r\n                history.replace()\r\n                return\r\n              }\r\n            } else if (user.host === 'kakao') {\r\n              let email = user.email\r\n              let username\r\n              if (email) {\r\n                username = email.substring(0, email.indexOf('@')) + '_k'\r\n                if (username === 'popping2606_k') username = 'imki123' //ë‚´ì•„ì´ë””\r\n                console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì„±ê³µ:', username)\r\n                user = {\r\n                  username: username,\r\n                  email: email,\r\n                  imageUrl: user.profile.thumbnail_image_url,\r\n                  host: user.host,\r\n                }\r\n              } else {\r\n                console.log('ì´ë©”ì¼ ì •ë³´ ì—†ìŒ. ë¡œê·¸ì•„ì›ƒ.')\r\n                alert('ì´ë©”ì¼ì´ ì—†ìœ¼ë©´ ë¡œê·¸ì¸ì´ ë¶ˆê°€í•´ìš”. ì´ë©”ì¼ ë™ì˜ ë¶€íƒë“œë ¤ìš” ğŸ˜„')\r\n                //ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ\r\n                const kakaoLogout = document.querySelector('#kakaoLogout')\r\n                if (kakaoLogout) kakaoLogout.click()\r\n                userinfoElem.value = ''\r\n                history.replace()\r\n                return\r\n              }\r\n            } else {\r\n              let email = user.email\r\n              let username = email.substring(0, email.indexOf('@')) + '_g'\r\n              if (username === 'popping2606_g') username = 'imki123' //ë‚´ì•„ì´ë””\r\n              console.log('êµ¬ê¸€ ë¡œê·¸ì¸ ì„±ê³µ:', username)\r\n              user = {\r\n                username: username,\r\n                email: email,\r\n                name: user.name,\r\n                imageUrl: user.imageUrl,\r\n                host: user.host,\r\n              }\r\n            }\r\n            //console.log(user)\r\n\r\n            let url = process.env.REACT_APP_URL + '/auth/oauth'\r\n            //url = process.env.REACT_APP_LOCAL_URL + '/auth/oauth'\r\n            //ë¡œê·¸ì¸ ì„±ê³µì‹œ í† í°ì— name, email, imageUrl ì €ì¥\r\n            fetch(url, {\r\n              mode: 'cors',\r\n              method: 'POST',\r\n              credentials: 'include',\r\n              headers: { 'Content-Type': 'application/json' },\r\n              body: JSON.stringify(user),\r\n            })\r\n              .then((res) => {\r\n                if (res.status === 200 || res.status === 201) {\r\n                  //ì„±ê³µí•˜ë©´ ì•„ë˜ then ì‘ë™\r\n                  res.json().then((res) => {\r\n                    alert(res.username + 'ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ˜„')\r\n                    setUserinfo(res)\r\n                    //ë¡œê·¸ì¸ ì‹œ í™ˆìœ¼ë¡œ ì´ë™\r\n                    history.replace('/')\r\n                    //history.go(-1) //ë’¤ë¡œê°€ê¸°\r\n                  })\r\n                } else {\r\n                  let message = 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ :('\r\n                  if (res.status === 401) {\r\n                    message += '\\në¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.'\r\n                  }\r\n                  console.log(message)\r\n                }\r\n              })\r\n              .catch((e) => console.error(e))\r\n          }\r\n        }, 1000)\r\n      }\r\n    } else if (location.pathname === '/loginStatus' || location.pathname === '/loginStatus/') {\r\n      if (userinfoElem && !userinfoElem.value) {\r\n        setUserinfo(false)\r\n      }\r\n    }\r\n    return () => clearInterval(frame)\r\n  }, [store.login, location, history])\r\n\r\n  useEffect(() => {\r\n    //ìœ ì €ì¸í¬ê°€ ìˆìœ¼ë©´ ë¡œê·¸ì¸ì²˜ë¦¬\r\n    if (store) {\r\n      store.setReady(true)\r\n      if (userinfo) {\r\n        store.setLogin(userinfo)\r\n      }\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    //ì´ë¯¸ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆë‹¤ë©´ ìŠ¤í…Œì´í„°ìŠ¤ë¡œ ì´ë™\r\n    if (location.pathname === '/login' || location.pathname === '/login/') {\r\n      if (store.login) {\r\n        history.replace('/loginStatus')\r\n      }\r\n    }\r\n\r\n    //ë¡œê·¸ì¸ì´ ì•ˆë˜ì–´ìˆìœ¼ë©´ ë¡œê·¸ì¸ìœ¼ë¡œ ì´ë™\r\n    if (location.pathname === '/loginStatus' || location.pathname === '/loginStatus/') {\r\n      //console.log(store.login)\r\n      if (!store.login) {\r\n        setTimeout(function () {\r\n          if (!store.login) {\r\n            history.replace('/login')\r\n          }\r\n        }, 1000)\r\n      }\r\n    }\r\n    if (location.pathname.indexOf('register') > -1) {\r\n      setButtonName('íšŒì›ê°€ì…')\r\n    } else if (location.pathname.indexOf('withdraw') > -1) {\r\n      setButtonName('íšŒì›íƒˆí‡´')\r\n    } else {\r\n      setButtonName('ë¡œê·¸ì¸')\r\n    }\r\n  }, [location, store.login, history])\r\n\r\n  const changeUsername = (e) => {\r\n    const pattern = /[^a-zA-Z0-9ã„±-ã…ã…-ã…£ê°€-í£_]/g\r\n    const value = (e.target.value = e.target.value.replace(/\\s/g, '_').replace(pattern, ''))\r\n    if (value.length < 3) {\r\n      //3ê¸€ì ì´ìƒ\r\n      setCheckUsername('- 3ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”')\r\n    } else if (value.length > 20) {\r\n      //20ê¸€ì ì´í•˜\r\n      setCheckUsername('- 20ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”')\r\n    } else {\r\n      setCheckUsername('')\r\n    }\r\n  }\r\n  const changePassword = (e) => {\r\n    const { value } = e.target\r\n    const passwordConfirm = document.querySelector('[name=passwordConfirm]')\r\n\r\n    //ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ë©´ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì€ ì´ˆê¸°í™”\r\n    if (passwordConfirm) {\r\n      passwordConfirm.value = ''\r\n      setCheckPasswordConfirm('')\r\n    }\r\n\r\n    if (value.length < 6) {\r\n      //6ê¸€ì ì´ìƒ\r\n      setCheckPassword('- 6ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”')\r\n    } else if (value.length > 20) {\r\n      //20ê¸€ì ì´í•˜\r\n      setCheckPassword('- 20ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”')\r\n    } else {\r\n      setCheckPassword('')\r\n    }\r\n  }\r\n  const changePasswordConfirm = (e) => {\r\n    const { value } = e.target\r\n    const password = document.querySelector('[name=password]')\r\n\r\n    if (value !== password.value && value.length >= 1) {\r\n      //passwordì™€ ê°™ìœ¼ë©´\r\n      setCheckPasswordConfirm('- ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤')\r\n    } else {\r\n      setCheckPasswordConfirm('')\r\n    }\r\n  }\r\n  const clickButton = (e) => {\r\n    e.preventDefault()\r\n    let url = process.env.REACT_APP_URL + '/auth'\r\n    //url = process.env.REACT_APP_LOCAL_URL+'/auth'\r\n\r\n    const pattern = /[^a-zA-Z0-9ê°€-í£_]/g\r\n    let username = document.querySelector('[name=username]')\r\n    if (username) username = username.value = username.value.replace(pattern, '')\r\n    let password = document.querySelector('[name=password]')\r\n    if (password) password = password.value\r\n\r\n    if (checkUsername === '' && password.length >= 1 && checkPassword === '' && checkPasswordConfirm === '') {\r\n      //ì…ë ¥í¼ì— ì´ìƒì´ ì—†ìœ¼ë©´ fetch submit\r\n      if (buttonName === 'íšŒì›ê°€ì…') {\r\n        url += '/register'\r\n        fetch(url, {\r\n          mode: 'cors',\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            username: username,\r\n            password: password,\r\n          }),\r\n        })\r\n          .then((res) => {\r\n            if (res.status === 200 || res.status === 201) {\r\n              //ì„±ê³µí•˜ë©´ ì•„ë˜ then ì‘ë™\r\n              res.json().then((res) => {\r\n                alert(res.username + 'ë‹˜ì˜ íšŒì›ê°€ì…ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤ ğŸ˜„')\r\n                history.go(-1)\r\n              })\r\n            } else {\r\n              let message = 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ :('\r\n              if (res.status === 409) {\r\n                message += '\\nì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.'\r\n              }\r\n              if (res.status === 400) {\r\n                message += '\\nì•„ì´ë””ë‚˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.'\r\n              }\r\n              alert(message)\r\n            }\r\n          })\r\n          .catch((e) => console.error(e))\r\n      } else if (buttonName === 'íšŒì›íƒˆí‡´') {\r\n        if (window.confirm('ê³„ì • íƒˆí‡´ì‹œ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì •ë§ë¡œ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n          url += '/withdraw'\r\n          fetch(url, {\r\n            mode: 'cors',\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({\r\n              username: store.login.username,\r\n              password: password,\r\n            }),\r\n          })\r\n            .then((res) => {\r\n              if (res.status === 200) {\r\n                //ì‚­ì œí•˜ë©´ Ok\r\n                alert('ê³„ì •ì´ íƒˆí‡´ë˜ì—ˆìŠµë‹ˆë‹¤. ë˜ ë“¤ëŸ¬ ì£¼ì„¸ìš” ğŸ˜„')\r\n                history.push('/')\r\n              } else {\r\n                let message = 'íƒˆí‡´ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ :('\r\n                if (res.status === 204) {\r\n                  message += '\\nì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.'\r\n                }\r\n                if (res.status === 401) {\r\n                  message += '\\në¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.'\r\n                }\r\n                alert(message)\r\n              }\r\n            })\r\n            .catch((e) => console.error(e))\r\n        }\r\n      } else {\r\n        //ë¡œê·¸ì¸\r\n        url += '/login'\r\n        fetch(url, {\r\n          mode: 'cors',\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            username: username,\r\n            password: password,\r\n          }),\r\n        })\r\n          .then((res) => {\r\n            if (res.status === 200 || res.status === 201) {\r\n              //ì„±ê³µí•˜ë©´ ì•„ë˜ then ì‘ë™\r\n              res.json().then((res) => {\r\n                store.setLogin(res)\r\n                alert(res.username + 'ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤ ğŸ˜„')\r\n                history.go(-1)\r\n              })\r\n            } else {\r\n              let message = 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ :('\r\n              if (res.status === 401) {\r\n                message += '\\në¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.'\r\n              }\r\n              alert(message)\r\n            }\r\n          })\r\n          .catch((e) => console.error(e))\r\n      }\r\n    } else {\r\n      alert('ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.')\r\n    }\r\n  }\r\n\r\n  const naverLogin = (e) => {\r\n    const naverIdLogin = document.querySelector('#naverIdLogin')\r\n    if (naverIdLogin) {\r\n      console.log('ë„¤ì´ë²„ ë¡œê·¸ì¸ ìš”ì²­')\r\n      naverIdLogin.firstChild.click()\r\n    }\r\n  }\r\n  const kakaoLogin = (e) => {\r\n    const kakaoLogin = document.querySelector('#kakaoLogin')\r\n    if (kakaoLogin) {\r\n      console.log('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ìš”ì²­')\r\n      kakaoLogin.click()\r\n    }\r\n  }\r\n  const googleLogin = (e) => {\r\n    const googleLogin = document.querySelector('#googleLogin')\r\n    if (googleLogin) {\r\n      console.log('êµ¬ê¸€ ë¡œê·¸ì¸ ìš”ì²­')\r\n      googleLogin.firstChild.firstChild.click()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"background\">\r\n      <div id=\"loginWrapper\">\r\n        <Meta\r\n          data={{\r\n            title: 'ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸',\r\n            description: 'ë„¤ì´ë²„, ì¹´ì¹´ì˜¤, êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•´ë³´ì„¸ìš”!',\r\n            canonical: `login`,\r\n          }}\r\n        />\r\n        {location.pathname.indexOf('/loginStatus') > -1 ? (\r\n          <>\r\n            {store.login ? (\r\n              <div className=\"center\">\r\n                {store.login.username}ë‹˜ì€ í˜„ì¬ <span style={{ color: 'green' }}>ë¡œê·¸ì¸</span> ë˜ì–´ìˆìŠµë‹ˆë‹¤ ğŸ˜„\r\n                <br />\r\n                <span style={{ fontSize: '0.8rem' }}>(ë¡œê·¸ì¸ì€ ìµœëŒ€ ì¼ì£¼ì¼ê°„ ìœ ì§€ë©ë‹ˆë‹¤.)</span>\r\n              </div>\r\n            ) : (\r\n              <div className=\"login center\">\r\n                ì¬ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤\r\n                <Link to=\"/login\" className=\"loginLink\">\r\n                  ë¡œê·¸ì¸\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {(buttonName === 'ë¡œê·¸ì¸' || buttonName === 'íšŒì›ê°€ì…') && (\r\n              <div className=\"oAuth\">\r\n                <div className=\"login\">\r\n                  {/* ë„¤ì´ë²„ ë¡œê·¸ì¸ */}\r\n                  <div className=\"naverLogin no-drag\" onClick={naverLogin}>\r\n                    <img alt=\"\" src={process.env.PUBLIC_URL + '/images/naver.png'} />\r\n                    Log in with Naver\r\n                  </div>\r\n                  {/* ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ */}\r\n                  <div className=\"naverLogin kakaoLogin no-drag\" onClick={kakaoLogin}>\r\n                    <img alt=\"\" src={process.env.PUBLIC_URL + '/images/kakao.png'} />\r\n                    Log in with Kakao\r\n                  </div>\r\n                  {/* êµ¬ê¸€ ë¡œê·¸ì¸ */}\r\n                  <div className=\"naverLogin googleLogin no-drag\" onClick={googleLogin}>\r\n                    <img alt=\"\" src={process.env.PUBLIC_URL + '/images/google.png'} />\r\n                    Log in with Google\r\n                  </div>\r\n                  <div className=\"googleWarning\">\r\n                    êµ¬ê¸€ ë¡œê·¸ì¸ì€ <span style={{ color: 'red' }}>ì¸ì•± ë¸Œë¼ìš°ì €(ì¹´ì¹´ì˜¤í†¡ ë“±)</span>ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜¤ë¥˜ ë°œìƒ ì‹œ ë”ë³´ê¸°(\r\n                    <MoreVertIcon />, <img alt=\"\" src={process.env.PUBLIC_URL + '/images/share.png'} />\r\n                    )ë¥¼ ëˆŒëŸ¬ì„œ <span>ë‹¤ë¥¸ ë¸Œë¼ìš°ì €(Chrome, Safari ë“±)</span>ì—ì„œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <form className=\"login\">\r\n              <div className=\"text\">ì•„ì´ë””</div>\r\n              {buttonName === 'íšŒì›íƒˆí‡´' ? <div>{store.login.username}</div> : <input name=\"username\" onChange={changeUsername} />}\r\n\r\n              <div className=\"check\">{checkUsername}</div>\r\n\r\n              <div className=\"text\">ë¹„ë°€ë²ˆí˜¸</div>\r\n              <input name=\"password\" type=\"password\" onChange={changePassword} autoComplete=\"currnet-password\" />\r\n              <div className=\"check\">{checkPassword}</div>\r\n\r\n              {buttonName === 'íšŒì›ê°€ì…' && (\r\n                <>\r\n                  <div className=\"text\">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</div>\r\n                  <input name=\"passwordConfirm\" type=\"password\" onChange={changePasswordConfirm} autoComplete=\"currnet-password\" />\r\n                  <div className=\"check\" id=\"checkPasswordConfirm\">\r\n                    {checkPasswordConfirm}\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              {/* ë²„íŠ¼ */}\r\n              {buttonName === 'íšŒì›íƒˆí‡´' ? (\r\n                <Button variant=\"contained\" color=\"primary\" style={{ background: 'red' }} onClick={clickButton}>\r\n                  {buttonName}\r\n                </Button>\r\n              ) : (\r\n                <Button variant=\"contained\" color=\"primary\" onClick={clickButton}>\r\n                  {buttonName}\r\n                </Button>\r\n              )}\r\n\r\n              {/* ë¡œê·¸ì¸ or íšŒì›ê°€ì… */}\r\n              {buttonName === 'ë¡œê·¸ì¸' && (\r\n                <div className=\"loginLink\">\r\n                  <Link to=\"/register\">íšŒì›ê°€ì…</Link>\r\n                </div>\r\n              )}\r\n              {buttonName === 'íšŒì›ê°€ì…' && (\r\n                <div className=\"loginLink\">\r\n                  <Link to=\"/login\" className=\"loginLink\">\r\n                    ë¡œê·¸ì¸\r\n                  </Link>\r\n                </div>\r\n              )}\r\n\r\n              {browser === 'safari' && (\r\n                <div className=\"text\" style={{ fontSize: '0.8rem', textAlign: 'center' }}>\r\n                  (Safariì˜ ì„¤ì •ì„ ë³€ê²½í•´ì•¼ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.)\r\n                  <br />\r\n                  ì„¤ì • â†’ Safari â†’ ê°œì¸ ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ â†’ <br />\r\n                  í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ì¶”ì ë°©ì§€ OFF, ëª¨ë“  ì¿ í‚¤ ì°¨ë‹¨ OFF)\r\n                </div>\r\n              )}\r\n            </form>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Login)\r\n","/* eslint-disable jsx-a11y/accessible-emoji */\r\nimport React, { useEffect, useState } from 'react'\r\nimport './Quill.scss'\r\nimport 'quill/dist/quill.snow.css'\r\nimport { useQuill } from 'react-quilljs'\r\nimport imageCompress from 'quill-image-compress'\r\nimport { AppContext } from '../App'\r\nimport Axios from 'axios'\r\nimport Emoji from './Emoji'\r\n\r\nfunction Quill({ match, location, history }) {\r\n  const store = React.useContext(AppContext)\r\n  let { postId } = match.params\r\n  const [post, setPost] = useState()\r\n  const [ready, setReady] = useState()\r\n  const [subMenus, setSubMenus] = useState()\r\n\r\n  const modules = {\r\n    toolbar: [\r\n      ['bold', 'italic', 'underline', 'strike'],\r\n      [{ size: ['small', false, 'large', 'huge'] }, { header: 1 }, { header: 2 }],\r\n      [{ align: [] }],\r\n      [{ color: [] }, { background: [] }],\r\n      [{ indent: '-1' }, { indent: '+1' }],\r\n      [{ list: 'ordered' }, { list: 'bullet' }],\r\n      ['code-block', 'blockquote'],\r\n      ['link', 'image', 'video'],\r\n      ['clean'],\r\n    ],\r\n    syntax: true,\r\n    imageCompress: {\r\n      quality: 0.7, // default\r\n      maxWidth: 1000, // default 1000\r\n      maxHeight: 1000, // default 1000\r\n      imageType: 'image/jpeg', // default\r\n      debug: true, // default\r\n    },\r\n  }\r\n  const formats = ['bold', 'italic', 'underline', 'strike', 'code-block', 'blockquote', 'size', 'header', 'align', 'color', 'background', 'indent', 'list', 'link', 'image', 'video', 'clean']\r\n\r\n  const { quill, quillRef, Quill } = useQuill({ modules, formats })\r\n  if (Quill && !quill) {\r\n    // For execute this line only once.\r\n    Quill.register('modules/imageCompress', imageCompress)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setReady(false)\r\n    //í¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° axios\r\n    if (postId !== undefined && Number(postId) >= 1 && quill) {\r\n      //postIdê°€ ì—†ìœ¼ë©´ í¬ìŠ¤íŠ¸ ë‚´ìš© ê°€ì ¸ì˜¤ì§€ ì•Šê¸°\r\n      let url = process.env.REACT_APP_URL + '/posts/' + postId\r\n      //url = process.env.REACT_APP_LOCAL_URL+'/posts/' + postId\r\n\r\n      Axios.get(url, {\r\n        withCredentials: true,\r\n      }) //í¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°\r\n        .then((res) => {\r\n          let title = document.querySelector('[name=title]')\r\n          title.value = res.data.title\r\n\r\n          const tags = document.querySelectorAll('[type=radio]')\r\n          for (let i of tags) {\r\n            //ì²´í¬ ì´ˆê¸°í™”\r\n            i.checked = false\r\n          }\r\n          if (res.data.tags) {\r\n            //ì²´í¬ë°•ìŠ¤ ì²´í¬\r\n            const mainMenu = document.getElementById(res.data.tags[0])\r\n            if (mainMenu) mainMenu.checked = true\r\n            for (let i of store.menus) {\r\n              if (i.name === res.data.tags[0]) {\r\n                //ì„ íƒëœ ë©”ì¸ë©”ë‰´ì˜ ì„œë¸Œë©”ë‰´ë¥¼ ê·¸ë¦¬ê¸°\r\n                setSubMenus(i.subMenus)\r\n              }\r\n            }\r\n          }\r\n\r\n          //í¬ìŠ¤íŠ¸ë°”ë”” ê°€ì ¸ì˜¤ê¸°\r\n          url = process.env.REACT_APP_URL + '/posts/postBody/' + postId\r\n          //url = process.env.REACT_APP_LOCAL_URL + '/posts/postBody/' + postId\r\n          Axios.get(url)\r\n            .then((res2) => {\r\n              if (typeof res2.data.body === 'string') quill.setText(res2.data.body)\r\n              //bodyê°€ stringì´ë©´ setText\r\n              else quill.setContents(res2.data.body) //bodyê°€ stringì´ ì•„ë‹ˆë©´ setContents : Delta\r\n              setPost({\r\n                ...res.data,\r\n                body: res2.data.body,\r\n              })\r\n            })\r\n            .catch((e) => {\r\n              alert(e)\r\n              setReady(true)\r\n            }) //ì‹¤íŒ¨\r\n        })\r\n        .catch((e) => {\r\n          alert(e)\r\n          setReady(true)\r\n        }) //ì‹¤íŒ¨\r\n    } else {\r\n      setReady(true)\r\n    }\r\n  }, [location, quill, postId, store.menus])\r\n\r\n  useEffect(() => {\r\n    if (subMenus && post) {\r\n      const subMenu = document.getElementById(post.tags[1])\r\n      if (subMenu) subMenu.checked = true\r\n    }\r\n    const newSubMenu = document.querySelector('[name=newSubMenu]')\r\n    if (newSubMenu) newSubMenu.value = ''\r\n  }, [subMenus, post])\r\n\r\n  useEffect(() => {\r\n    store.setReady(false)\r\n    if (post || ready) {\r\n      store.setReady(true)\r\n    }\r\n  })\r\n\r\n  //ê¸€ ì‘ì„± or ìˆ˜ì •\r\n  const clickPost = (e) => {\r\n    if (!store.login || (store.login && store.login.username !== 'imki123')) {\r\n      alert('ê¸€ ì‘ì„±ì€ ë¸”ë¡œê·¸ ì£¼ì¸ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤ ^^;')\r\n      return\r\n    }\r\n    if (!window.confirm('ê¸€ì„ ê²Œì‹œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      return\r\n    }\r\n    //ì œëª©, ë‚´ìš©, íƒœê·¸ê°€ ìˆëŠ”ì§€ ê²€ì‚¬\r\n    let title = document.querySelector('[name=title]')\r\n    const content = quill.getContents()\r\n    const text = quill.getText()\r\n    const mainMenu = document.querySelector('[name=mainMenu]:checked')\r\n    let tags = []\r\n    const subMenu = document.querySelector('[name=subMenu]:checked')\r\n    const newMainMenu = document.querySelector('[name=newMainMenu]')\r\n    const newSubMenu = document.querySelector('[name=newSubMenu]')\r\n\r\n    if (mainMenu) {\r\n      tags[0] = mainMenu.value\r\n    }\r\n    if (newMainMenu.value !== '') {\r\n      tags[0] = newMainMenu.value\r\n    }\r\n    if (subMenu) {\r\n      if (subMenu.value !== '') tags[1] = subMenu.value //ì²´í¬ ëœ ì„œë¸Œë©”ë‰´ ì¶”ê°€\r\n    }\r\n    if (newSubMenu.value !== '') {\r\n      tags[1] = newSubMenu.value\r\n    }\r\n\r\n    if (title.value.length === 0) {\r\n      alert('ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    } else if (quill.getLength() === 1) {\r\n      alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')\r\n      return\r\n    } else if (tags.length < 1 && newMainMenu.value === '') {\r\n      alert('ë©”ì¸ë©”ë‰´ë¥¼ 1ê°œ ì„ íƒí•´ì£¼ì„¸ìš”.')\r\n      return\r\n    }\r\n\r\n    //urlì— POST ë˜ëŠ” PATCH ìš”ì²­\r\n    let url = process.env.REACT_APP_URL + '/posts'\r\n    //url = process.env.REACT_APP_LOCAL_URL + '/posts'\r\n    let method = 'POST',\r\n      message = 'ê¸€ ì‘ì„± ì„±ê³µ'\r\n    if (e.target.id === 'PATCH') {\r\n      if (postId !== undefined && Number(postId) >= 1) {\r\n        url += '/' + postId\r\n        method = 'PATCH'\r\n        message = 'ê¸€ ìˆ˜ì • ì„±ê³µ'\r\n      } else {\r\n        console.log('postId ë¹„ì •ìƒ, ê¸€ ìˆ˜ì • ì‹¤íŒ¨')\r\n        return\r\n      }\r\n    }\r\n\r\n    Axios(url, {\r\n      //í¬ìŠ¤íŠ¸ ì‘ì„±, ìˆ˜ì • (ìµœëŒ€ 10mb. koa-bodyparserì—ì„œ ì„¤ì •.)\r\n      method: method,\r\n      withCredentials: true, //CORS\r\n      data: {\r\n        title: title.value,\r\n        body: content,\r\n        text: text,\r\n        tags: tags,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        alert(message) //ì„±ê³µ\r\n        postId = res.data.postId\r\n        if (postId > 1) {\r\n          history.push(`/posts/${postId}`) //ìˆ˜ì • ì„±ê³µí•˜ë©´ í•´ë‹¹ ê¸€ë¡œ ì´ë™í•¨\r\n        } else {\r\n          history.push(`/posts/1`) //ì¸ì‚¬ë§ì€ í™ˆìœ¼ë¡œ ì´ë™\r\n        }\r\n      })\r\n      .catch((e) => alert(e)) //ì‹¤íŒ¨\r\n  }\r\n\r\n  //ë©”ì¸ë©”ë‰´ ì¶”ê°€ì‹œ ë¼ë””ì˜¤ë°•ìŠ¤ ì²´í¬ í•´ì œ, ë„ì–´ì“°ê¸°ë¥¼ _ë¡œ ë³€ê²½\r\n  const changeMainMenu = (e) => {\r\n    if (store.menus) {\r\n      for (let i of store.menus) {\r\n        if (i.name === e.target.value) {\r\n          setSubMenus(i.subMenus)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (e.target.type !== 'radio') {\r\n      //ì¸í’‹ë°•ìŠ¤ ì…ë ¥í•˜ë©´ ë¼ë””ì˜¤ ì²´í¬ í•´ì œ\r\n      e.target.value = e.target.value.replace(/\\s/g, '_')\r\n      const mainMenu = document.querySelector('[name=mainMenu]:checked')\r\n      if (mainMenu) mainMenu.checked = false\r\n    }\r\n  }\r\n  //ì„œë¸Œë©”ë‰´ ì¶”ê°€ì‹œ ë¼ë””ì˜¤ë°•ìŠ¤ ì²´í¬ í•´ì œ, ë„ì–´ì“°ê¸°ë¥¼ _ë¡œ ë³€ê²½\r\n  const changeSubMenu = (e) => {\r\n    if (e.target.type !== 'radio') {\r\n      //ì¸í’‹ë°•ìŠ¤ ì…ë ¥í•˜ë©´ ë¼ë””ì˜¤ ì²´í¬ í•´ì œ\r\n      e.target.value = e.target.value.replace(/\\s/g, '_')\r\n      const subMenu = document.querySelector('[name=subMenu]:checked')\r\n      if (subMenu) subMenu.checked = false\r\n    } else {\r\n      const newSubMenu = document.querySelector('[name=newSubMenu]')\r\n      if (newSubMenu) newSubMenu.value = ''\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"quill\">\r\n      <div className=\"quillTitle\">\r\n        <input name=\"title\" placeholder=\"ì œëª©\" />\r\n      </div>\r\n      <div id=\"editor\">\r\n        <div ref={quillRef} />\r\n        <div id=\"tags\">\r\n          <div id=\"tagsTitle\">\r\n            tags\r\n            {postId !== undefined && Number(postId) >= 1 ? (\r\n              <button className=\"editorButton no-drag\" onClick={clickPost} id=\"PATCH\">\r\n                ê¸€ ìˆ˜ì •\r\n              </button>\r\n            ) : (\r\n              <button className=\"editorButton no-drag\" onClick={clickPost}>\r\n                ìƒˆê¸€ ì‘ì„±\r\n              </button>\r\n            )}\r\n            <Emoji emojis={'ğŸ˜„,ğŸ¤£,ğŸ¥°,ğŸ˜,ğŸ˜,ğŸ˜­,ğŸ‘,ğŸ•,ğŸˆ,â˜€,ğŸŒ™,â­,â˜,ğŸŒ§,ğŸ’§,â™¥,â¤,ğŸ’•'} />\r\n          </div>\r\n          <div>\r\n            ë©”ì¸ë©”ë‰´:\r\n            {store.menus &&\r\n              store.menus.map((i) => (\r\n                <label key={i.name}>\r\n                  <input type=\"radio\" name=\"mainMenu\" value={i.name} id={i.name} onClick={changeMainMenu} />\r\n                  {i.name}\r\n                </label>\r\n              ))}\r\n            <input name=\"newMainMenu\" placeholder=\"ë©”ì¸ë©”ë‰´ ì¶”ê°€\" onChange={changeMainMenu} autoComplete=\"off\"></input>\r\n          </div>\r\n          <div>\r\n            ì„œë¸Œë©”ë‰´:\r\n            <label>\r\n              <input type=\"radio\" name=\"subMenu\" value=\"\" onClick={changeSubMenu} /> ì„ íƒì•ˆí•¨\r\n            </label>\r\n            {subMenus &&\r\n              subMenus.map((i) => (\r\n                <label key={i.name}>\r\n                  <input type=\"radio\" name=\"subMenu\" value={i.name} id={i.name} onClick={changeSubMenu} /> {i.name}\r\n                </label>\r\n              ))}\r\n            <input name=\"newSubMenu\" placeholder=\"ì„œë¸Œë©”ë‰´ ì¶”ê°€\" autoComplete=\"off\" onChange={changeSubMenu}></input>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Quill)\r\n","import React, { useEffect } from 'react'\r\nimport './Paging.scss'\r\nimport { NavLink, useLocation } from 'react-router-dom'\r\nimport queryString from 'query-string'\r\n\r\nfunction Paging(props) {\r\n  const { postCount } = props\r\n  const location = useLocation()\r\n  const search = queryString.parse(location.search)\r\n  let paging = null\r\n  const pages = []\r\n  let page = 1\r\n  if (postCount) {\r\n    page = parseInt(search.page) || 1 //í˜ì´ì§€ë¥¼ ìˆ«ìë¡œ ë³€í™˜. ì—†ë‹¤ë©´ 1\r\n    if (page < 1) page = 1\r\n    const startPost = postCount - (page - 1) * 10\r\n    paging = {\r\n      page: page,\r\n      lastPage: Math.ceil(postCount / 10),\r\n      postCount: postCount,\r\n      startPost: startPost,\r\n    }\r\n\r\n    for (let i = 0; i < paging.lastPage; i++) {\r\n      pages.push(i + 1)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const links = document.querySelectorAll('.paging a')\r\n    for (let i = 0; i < links.length; i++) {\r\n      if (parseInt(links[i].innerHTML) === page) {\r\n        links[i].className = 'activePage'\r\n      } else {\r\n        links[i].className = 'inactivePage'\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"paging\">\r\n      {pages.map((p, idx) => (\r\n        <NavLink path={location.pathname} to={`${location.pathname}?page=${p}`} className=\"inactivePage\" key={idx}>\r\n          {p}\r\n        </NavLink>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Paging)\r\n","import Axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { AppContext } from '../App'\r\nimport Paging from './Paging'\r\nimport PostList from './PostList'\r\n\r\nimport Meta from './Meta'\r\nimport queryString from 'query-string'\r\n\r\nfunction Tags({ match, location, history }) {\r\n  const store = React.useContext(AppContext)\r\n  const { tag } = match.params\r\n  const [lists, setLists] = useState([])\r\n  const [titles, setTitles] = useState('')\r\n  const [postCount, setPostCount] = useState(0)\r\n  const [page, setPage] = useState(1)\r\n  useEffect(() => {\r\n    setLists([])\r\n    const search = queryString.parse(location.search)\r\n    let pageNum = parseInt(search.page) || 1 //í˜ì´ì§€ë¥¼ ìˆ«ìë¡œ ë³€í™˜. ì—†ë‹¤ë©´ 1\r\n    if (pageNum < 1) pageNum = 1\r\n    setPage(pageNum)\r\n\r\n    let url = process.env.REACT_APP_URL + '/posts/tag/' + tag + location.search\r\n    //url = process.env.REACT_APP_LOCAL_URL + '/posts/tag/' + tag + location.search\r\n\r\n    Axios.get(url, {\r\n      withCredentials: true,\r\n    })\r\n      .then((res) => {\r\n        if (res.data.list.length < 1) {\r\n          alert('ì°¾ìœ¼ì‹œëŠ” í˜ì´ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.')\r\n          history.go(-1)\r\n        } else {\r\n          setLists(res.data.list)\r\n          let tempTitles = ''\r\n          for (let i of res.data.list) {\r\n            tempTitles += ' ' + i.title\r\n          }\r\n          setTitles(tempTitles)\r\n          setPostCount(res.data.postCount)\r\n        }\r\n      })\r\n      .catch((e) => console.log(e)) //ì‹¤íŒ¨\r\n  }, [tag, location, history])\r\n\r\n  useEffect(() => {\r\n    store.setReady(false)\r\n    if (lists) {\r\n      store.setReady(true)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"postListWrapper\">\r\n      <Meta data={{ title: tag + ' ëª©ë¡', description: titles, canonical: `tags/${tag}` }} />\r\n      <div className=\"postListTitle\">{tag.substring(0, 1).toUpperCase() + tag.substring(1) + ' ëª©ë¡'}</div>\r\n      {lists && lists.map((i, idx) => <PostList no={postCount - idx - (page - 1) * 10} list={i} key={i.postId} />)}\r\n      {<Paging postCount={postCount} />}\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Tags)\r\n","import React, { useEffect } from 'react'\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport './Content.scss'\r\nimport { Link, Route, useLocation, Switch, useHistory } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\n\r\nimport Post from './Post'\r\nimport NotFoundPage from './NotFoundPage'\r\nimport Login from './Login'\r\nimport Quill from './Quill'\r\nimport Tags from './Tags'\r\nimport CommentLists from './CommentLists'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { resize, resizeTextarea, slideMenu } from '../utils/util'\r\n\r\nfunction Content(props) {\r\n  const store = React.useContext(AppContext)\r\n  const location = useLocation() //hash ì‚¬ìš©\r\n  const history = useHistory()\r\n\r\n  useEffect(resize,[])\r\n\r\n  useEffect(() => {\r\n    const loading = document.querySelector('#loading')\r\n    const views = document.querySelectorAll('.post')\r\n    if (store.ready) {\r\n      if (loading) loading.style.display = 'none'\r\n      if (views) {\r\n        for (let i of views) {\r\n          i.style.display = 'block'\r\n        }\r\n      }\r\n      setTimeout(function () {\r\n        resizeTextarea()\r\n      }, 10)\r\n    } else {\r\n      if (loading) loading.style.display = 'flex'\r\n      if (views) {\r\n        for (let i of views) {\r\n          i.style.display = 'none'\r\n        }\r\n      }\r\n    }\r\n  }, [location.hash, store])\r\n\r\n  const scrollUp = (e) => {\r\n    // contentì˜ ìŠ¤í¬ë¡¤ì„ ê°€ì¥ ìœ„ë¡œ\r\n    const body = document.body\r\n    let contentScroll = body.scrollTop\r\n    let dif = contentScroll / 20\r\n    const frame = setInterval(function () {\r\n      if (body.scrollTop <= 0) {\r\n        clearInterval(frame)\r\n      } else {\r\n        body.scrollTop -= dif\r\n      }\r\n    }, 10)\r\n  }\r\n\r\n  return (\r\n    <div id=\"content\" className=\"slideMenu\">\r\n      {/* FABs */}\r\n      {store.login && store.login.username === 'imki123' && (\r\n        <Link id=\"postFAB\" className=\"hover FAB\" to=\"/quill\">\r\n          <AddCircleOutlineIcon />\r\n        </Link>\r\n      )}\r\n      <div id=\"scrollFAB\" className=\"hover FAB\" onClick={scrollUp}>\r\n        <ArrowUpwardIcon />\r\n      </div>\r\n      <div\r\n        id=\"backFAB\"\r\n        className=\"hover FAB\"\r\n        onClick={() => {\r\n          history.go(-1)\r\n        }}\r\n      >\r\n        <ArrowBackIcon />\r\n      </div>\r\n      <div id=\"menuFAB\" className=\"hover FAB\" onClick={slideMenu}>\r\n        <MenuIcon />\r\n      </div>\r\n\r\n      {/* ë¡œë”© */}\r\n      <div id=\"loading\">\r\n        <img alt=\"Loading\" src={process.env.PUBLIC_URL + '/images/loading.gif'} />\r\n      </div>\r\n\r\n      <Switch>\r\n        <Route path={['/login', '/register', '/loginStatus', '/withdraw']} component={Login} />\r\n        <Route path=\"/quill/:postId?\" component={Quill} />\r\n        <Route path=\"/tags/:tag\" component={Tags} />\r\n        <Route path=\"/comments\" component={CommentLists} />\r\n        <Route path=\"/\" exact component={Post} />\r\n        <Route path=\"/posts/:postId\" component={Post} />\r\n        <Route path=\"/NotFoundPage\" component={NotFoundPage} />\r\n        <Route path=\"*\" component={NotFoundPage} />\r\n      </Switch>\r\n\r\n      {/* í…ìŠ¤íŠ¸ ì—ì–´ë¦¬ì–´ ë†’ì´ ì¡°ì •ì„ ìœ„í•œ ì•ˆë³´ì´ëŠ” ê°€ì§œ í…ìŠ¤íŠ¸ì—ì–´ë¦¬ì–´ */}\r\n      <textarea disabled id=\"fakeTextarea\" />\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Content)\r\n","import React from 'react'\r\nimport './Setting.scss'\r\nimport { Link } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction Setting(props) {\r\n  const store = React.useContext(AppContext)\r\n\r\n  const closeSetting = (e) => {\r\n    const settingWrapper = document.querySelector('#settingWrapper')\r\n    e.stopPropagation()\r\n    setTimeout(function () {\r\n      settingWrapper.style.display = 'none'\r\n    }, 200)\r\n  }\r\n\r\n  const logout = (e) => {\r\n    if (window.confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\r\n      let url = process.env.REACT_APP_URL + '/auth/logout'\r\n      //url = process.env.REACT_APP_LOCAL_URL + '/auth/logout'\r\n\r\n      fetch(url, {\r\n        mode: 'cors',\r\n        method: 'POST',\r\n        credentials: 'include',\r\n      })\r\n        .then((res) => {\r\n          if (res.status === 204) {\r\n            //ë¡œê·¸ì•„ì›ƒ í•˜ë©´ 204\r\n            console.log('ë¡œê·¸ì•„ì›ƒ ì„±ê³µ')\r\n            store.setLogin(false)\r\n\r\n            //ìœ ì €ì •ë³´ ì§€ìš°ê¸°\r\n            const userinfo = document.querySelector('#userinfo')\r\n            if (userinfo) userinfo.value = ''\r\n\r\n            //ë„¤ì´ë²„ ë¡œê·¸ì•„ì›ƒ\r\n            const naverIdLogout = document.querySelector('#naverIdLogout')\r\n            if (naverIdLogout) naverIdLogout.click()\r\n\r\n            //ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ\r\n            const kakaoLogout = document.querySelector('#kakaoLogout')\r\n            if (kakaoLogout) kakaoLogout.click()\r\n\r\n            //êµ¬ê¸€ ë¡œê·¸ì•„ì›ƒ\r\n            const googleLogout = document.querySelector('#googleLogout')\r\n            if (googleLogout) googleLogout.click()\r\n          } else {\r\n            console.log('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨')\r\n          }\r\n        })\r\n        .catch((e) => console.error(e))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"settingWrapper\" onClick={closeSetting}>\r\n      <div id=\"setting\">\r\n        {store.login ? (\r\n          <Link to=\"/loginStatus\">\r\n            <Button className=\"settingList\">{store.login.username}</Button>\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"/login\">\r\n            <Button className=\"settingList\">ë¡œê·¸ì¸</Button>\r\n          </Link>\r\n        )}\r\n        {store.login && (\r\n          <Button onClick={logout} className=\"settingList\">\r\n            ë¡œê·¸ì•„ì›ƒ\r\n          </Button>\r\n        )}\r\n        {!store.login && (\r\n          <Link to=\"/register\">\r\n            <Button className=\"settingList\">íšŒì›ê°€ì…</Button>\r\n          </Link>\r\n        )}\r\n        {store.login && !store.login.oAuth && (\r\n          <Link to=\"/withdraw\">\r\n            <Button className=\"settingList\">íšŒì›íƒˆí‡´</Button>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Setting)\r\n","import React, { createContext, useEffect, useState } from 'react'\r\nimport './App.scss'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nimport Header from './components/Header'\r\nimport Body from './components/Body'\r\nimport Guide from './components/Guide'\r\nimport Content from './components/Content'\r\nimport Setting from './components/Setting'\r\nimport Axios from 'axios'\r\nimport Meta from './components/Meta'\r\nimport { checkToken, useToggleHeader } from './utils/util'\r\n\r\nconst AppContext = createContext()\r\n\r\nfunction App() {\r\n  const location = useLocation() //í˜ì´ì§€ ê²½ë¡œ ë³€ê²½ ê°ì§€\r\n  const [ready, setReady] = useState(false)\r\n  const [login, setLogin] = useState(false)\r\n  const [menus, setMenus] = useState([\r\n    { name: 'home', count: 1, order: 1 },\r\n    { name: 'programming', order: 2 },\r\n    { name: 'article', order: 3 },\r\n  ])\r\n\r\n  //useContext ì´ìš©í•˜ì—¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ìƒíƒœ ì „ë‹¬\r\n  const store = {\r\n    ready,\r\n    setReady,\r\n    login,\r\n    setLogin,\r\n    menus,\r\n    setMenus,\r\n  }\r\n\r\n  // í¬ìŠ¤íŠ¸ì—ì„œ íƒœê·¸ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ë©”ë‰´ì— í‘œì‹œí•¨, Quillì˜ íƒœê·¸ëª©ë¡ì— í‘œì‹œ\r\n  useEffect(() => {\r\n    let url = process.env.REACT_APP_URL + '/menus'\r\n    //url = process.env.REACT_APP_LOCAL_URL+'/menus'\r\n\r\n    Axios.get(url, {\r\n      withCredentials: true,\r\n    }) //ë©”ë‰´ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°\r\n      .then((res) => {\r\n        setMenus(res.data)\r\n      })\r\n      .catch((e) => console.log(e)) //ì‹¤íŒ¨\r\n  }, [location.pathname])\r\n\r\n  //ì£¼ì†Œ ë³€ê²½ë  ë•Œ, í† í° ì²´í¬í•˜ê³  í¬ìŠ¤íŠ¸ ì¡°íšŒí•˜ê¸°\r\n  useEffect(() => {\r\n    checkToken(login, setLogin)\r\n  }, [location.pathname, location.search, login])\r\n\r\n  useEffect(() => {\r\n    const editor = document.querySelector('#editor')\r\n    const toolbar = document.querySelector('.ql-toolbar')\r\n\r\n    if (editor && toolbar) {\r\n      editor.style.marginBottom = toolbar.offsetHeight + 10 + 'px'\r\n    }\r\n  })\r\n\r\n  //ìŠ¤í¬ë¡¤ë˜ë©´ í—¤ë”ë¥¼ ê°ì¶”ëŠ” í›…\r\n  useToggleHeader()\r\n\r\n  return (\r\n    <AppContext.Provider value={store}>\r\n      <div id=\"app\">\r\n        <Meta\r\n          data={{\r\n            title: 'ì„ê¸°ì˜ ì½”ë”© ë¸”ë¡œê·¸',\r\n            description: 'ì£¼ë¡œ Javascript, React, ReactNative, Node ê´€ë ¨ ê¸€ì„ í¬ìŠ¤íŒ…í•©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤. ğŸ˜„',\r\n            image: process.env.PUBLIC_URL + '/images/imcat_800x400.png',\r\n          }}\r\n        />\r\n        <Header />\r\n        <Setting />\r\n        <Body>\r\n          <Guide />\r\n          <Content />\r\n        </Body>\r\n      </div>\r\n    </AppContext.Provider>\r\n  )\r\n}\r\nexport { AppContext }\r\nexport default React.memo(App)\r\n","import React from 'react'\r\nimport ReactDOM, { hydrate } from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App'\r\nimport { resize } from './utils/util'\r\n\r\nconst rootElement = document.getElementById('root')\r\n\r\nif (rootElement.hasChildNodes()) {\r\n  hydrate(\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>,\r\n    rootElement,\r\n  )\r\n} else {\r\n  ReactDOM.render(\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>,\r\n    document.getElementById('root'),\r\n  )\r\n}\r\n\r\n//ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ ë“±ë¡\r\nlet timer = null\r\nwindow.addEventListener('resize', function () {\r\n  //ìŠ¤ë¡œí‹€ë§ êµ¬í˜„\r\n  if (!timer) {\r\n    timer = setTimeout(() => {\r\n      timer = null\r\n      resize()\r\n    }, 100)\r\n  }\r\n})"],"sourceRoot":""}