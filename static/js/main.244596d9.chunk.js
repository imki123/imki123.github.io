(this.webpackJsonpblog_imki123=this.webpackJsonpblog_imki123||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(36),l=a.n(r),o=a(2),s=a(3),i=(a(46),a(4));a(47);var m=c.a.memo((function(e){var t=c.a.useContext(F);return c.a.createElement("div",{id:"headerWrapper"},c.a.createElement("div",{id:"header"},c.a.createElement("div",{className:"hover",onClick:t.slideMenu},c.a.createElement("img",{id:"menu",alt:"MENU",src:"/images/guide_icon.png"})),c.a.createElement(o.b,{to:"/"},c.a.createElement("div",{id:"title",className:"hover"},c.a.createElement("img",{id:"logo",alt:"logo",src:"/images/GitHub-Mark-32px.png"}),"\ud589\ubcf5\ud55c \ucf54\ub529 \ube14\ub85c\uadf8 :D")),c.a.createElement("div",{className:"hover",onClick:function(){var e=document.querySelector("#settingWrapper");e&&("block"===e.style.display?e.style.display="none":e.style.display="block")}},t.login?"imki123"===t.login.username?c.a.createElement("img",{className:"profile",alt:"PROFILE",src:"/images/avatar_small.png"}):c.a.createElement("img",{className:"profile",alt:"PROFILE",src:"/images/dog"+(Math.floor(3*Math.random())+1)+".png"}):c.a.createElement("img",{className:"profile",alt:"PROFILE",src:"/images/noavatar.png"}))))}));a(52);var u=c.a.memo((function(e){return c.a.createElement("div",{id:"body"},e.children)})),d=(a(53),a(54),a(37)),p=a.n(d);var g=c.a.memo((function(e){var t=e.menu,a=[];if(t){var n=Object.keys(t);for(var r in n.sort(),n)"cnt"!==n[r]&&"name"!==n[r]&&a.push(t[n[r]])}return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(o.c,{exact:!0,to:"home"===t.name?"/":"/".concat(t.name),className:"list",activeClassName:"activeList"},c.a.createElement("span",{className:"menuName"},t.name.substring(0,1).toUpperCase()+t.name.substring(1)),c.a.createElement("span",{className:"menuOptions"},c.a.createElement("span",{className:"menuCnt"},t.cnt),c.a.createElement("span",{className:"menuExpandIcon"},Object.keys(t).length>2&&c.a.createElement(p.a,null)))),a.length>0&&a.map((function(e){return c.a.createElement(o.c,{exact:!0,to:"/".concat(e.name),className:"list subList",activeClassName:"activeList",key:e.name},c.a.createElement("span",{className:"menuName"},e.name.substring(0,1).toUpperCase()+e.name.substring(1)),c.a.createElement("span",{className:"menuOptions"},c.a.createElement("span",{className:"menuCnt"},e.cnt)))})))}));var f=c.a.memo((function(e){var t=c.a.useContext(F),a=Object(n.useState)([]),r=Object(s.a)(a,2),l=r[0],o=r[1];return Object(n.useEffect)((function(){var e=[];for(var a in t.mainMenus)"home"!==t.mainMenus[a].name&&"about"!==t.mainMenus[a].name&&"programming"!==t.mainMenus[a].name&&"article"!==t.mainMenus[a].name&&e.push(t.mainMenus[a]);o(e)}),[t.mainMenus,t.refresh]),c.a.createElement("div",{id:"guideBack",onClick:function(e){var t=document.querySelector("#body"),a=document.querySelector("#guideWrapper"),n=document.querySelector("#content");t.clientWidth<500&&(a.parentNode.style.width="0",a.style.left="-230px",n.style.width="calc(100% - 16px)")}},c.a.createElement("div",{id:"guideWrapper",className:"slideMenu"},c.a.createElement("div",{id:"avatar"},c.a.createElement("img",{alt:"avatar",src:"/images/avatar.png",title:"Hello :D"}),c.a.createElement("div",{id:"name"},"Im kiyoung"),c.a.createElement("div",{id:"nickName"},"imki123"),c.a.createElement("div",{id:"github"},c.a.createElement("a",{href:"https://github.com/imki123"},c.a.createElement("img",{alt:"github",src:"/images/GitHub-Mark-32px.png"})," ",c.a.createElement("span",null,"https://github.com/imki123"))),c.a.createElement("div",{id:"introduction"},"A web programmer who dreams of being a wise developer.")),c.a.createElement("div",{id:"menus"},c.a.createElement(g,{menu:t.mainMenus.home}),c.a.createElement(g,{menu:t.mainMenus.about}),c.a.createElement(g,{menu:t.mainMenus.programming}),c.a.createElement(g,{menu:t.mainMenus.article}),l.map((function(e){return c.a.createElement(g,{menu:e,key:e})})))))})),h=a(39),v=a.n(h),E=(a(56),a(14)),b=a.n(E),y=(a(69),a(15)),k=(a(75),a(6)),N=a.n(k);var O=c.a.memo((function(e){var t=c.a.useContext(F),a=e.comment,r=e.post,l=e.refreshComment,o=!1,s=a.publishedDate.substring(0,16).replace("T"," ");return Object(n.useEffect)((function(){document.querySelector("#comment_".concat(r.postId,"_").concat(a.commentId," textarea")).value=a.content}),[a,r]),c.a.createElement("div",{className:"commentWrapper",id:"comment_".concat(r.postId,"_").concat(a.commentId)},c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"commentProfile"},a.username?"imki123"===a.username?c.a.createElement("img",{alt:"PROFILE",src:"/images/avatar_small.png"}):c.a.createElement("img",{alt:"PROFILE",src:"/images/dog"+(Math.floor(3*Math.random())+1)+".png"}):c.a.createElement("img",{alt:"PROFILE",src:"/images/noavatar.png"})),c.a.createElement("div",{className:"commentContent"},a.username===t.login.username?c.a.createElement("span",{className:"commentUsername",style:{fontWeight:"bold"}},a.username):c.a.createElement("span",{className:"commentUsername"},a.username),c.a.createElement("span",{className:"commentDate"}," - ",s," ",a.updated&&"(\uc218\uc815\ub428)"),c.a.createElement("textarea",{readOnly:!0,onChange:t.resizeTextarea}))),(a.username&&a.username===t.login.username||"imki123"===t.login.username)&&c.a.createElement("div",{className:"commentButtons"},c.a.createElement("button",{className:"commentButton",onClick:function(e){var t=document.querySelector("#comment_".concat(r.postId,"_").concat(a.commentId," textarea"));if(o){if(window.confirm("\ub313\uae00\uc744 \uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){o=!1,t.classList.remove("updateMode"),t.readOnly=!0;var n="https://blog-imki123-backend.herokuapp.com"+"/comments/".concat(r.postId,"/").concat(a.commentId);N.a.patch(n,{withCredentials:!0,data:{content:t.value}}).then((function(e){console.log("".concat(a.commentId,"\ubc88 \ub313\uae00 \uc218\uc815 \uc131\uacf5")),l()})).catch((function(e){return alert(e)}))}}else o=!0,t.classList.add("updateMode"),t.readOnly=!1,t.focus()}},"\uc218\uc815"),c.a.createElement("button",{className:"commentButton",style:{background:"red"},onClick:function(e){if(window.confirm("\uc0ad\uc81c \ud6c4\uc5d0\ub294 \ubcf5\uad6c\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4. \uc815\ub9d0\ub85c \ub313\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var t="https://blog-imki123-backend.herokuapp.com"+"/comments/delete/".concat(r.postId,"/").concat(a.commentId);N.a.patch(t,{withCredentials:!0}).then((function(e){console.log("".concat(a.commentId,"\ubc88 \ub313\uae00 \uc0ad\uc81c \uc131\uacf5")),l()})).catch((function(e){return alert(e)}))}}},"\uc0ad\uc81c")))})),C=a(38),w=a.n(C);var j=c.a.memo((function(e){var t=c.a.useContext(F),a=e.post,r=e.no,l=Object(n.useState)(a.comments),m=Object(s.a)(l,2),u=m[0],d=m[1],p=Object(n.useState)([]),g=Object(s.a)(p,2),f=g[0],h=g[1],v=Object(n.useState)(3),E=Object(s.a)(v,2),b=E[0],k=E[1],C=Object(i.g)(),j=Object(i.f)(),S=a.publishedDate.substring(0,16).replace("T"," "),x=Object(y.a)({modules:{syntax:!0},formats:["bold","italic","underline","strike","code-block","blockquote","size","header","align","color","background","indent","list","link","image","video","clean"],readOnly:!0}),M=x.quill,q=x.quillRef;Object(n.useEffect)((function(){a&&("string"===typeof a.body?h(a.body.split("\n")):M&&M.setContents(a.body))}),[a,C,M]);var T=function(e,t){var n,c="https://blog-imki123-backend.herokuapp.com/comments/"+a.postId;e&&e.target&&(n=e.target.querySelector("svg")),n&&n.classList.add("refreshing"),N.a.get(c,{withCredentials:!0}).then((function(e){console.log("".concat(a.postId," \ub313\uae00 \uc0c8\ub85c\uace0\uce68")),d(e.data),n&&n.classList.remove("refreshing"),t&&t()})).catch((function(e){n&&n.classList.remove("refreshing"),alert(e)}))};return c.a.createElement("div",{className:"post",id:"post_".concat(r)},c.a.createElement("div",{className:"nav"},S),c.a.createElement("h2",{className:"postTitle"},r,". ",a.title),c.a.createElement("div",{className:"postContent"},"string"===typeof a.body?f.map((function(e,t){return c.a.createElement("p",{key:t},e)})):c.a.createElement("div",{id:"editor"},c.a.createElement("div",{ref:q})),c.a.createElement("div",{className:"tags"},c.a.createElement("span",null,"\ud0dc\uadf8 : "),a.tags&&a.tags.map((function(e,t){return 0===t?c.a.createElement("span",{key:e},c.a.createElement(o.b,{to:"home"===e?"/":"/".concat(e)},e)):c.a.createElement("span",{key:e},", ",c.a.createElement(o.b,{to:"/".concat(e)},e))}))),t.login&&"imki123"===t.login.username&&c.a.createElement("div",{className:"postButtons"},c.a.createElement(o.b,{to:"/quill?postId=".concat(a.postId),className:"hover no-drag"},"\uc218\uc815"),"\xa0",c.a.createElement("button",{onClick:function(e){if(window.confirm("\uae00 \uc0ad\uc81c \uc2dc \ubcf5\uad6c\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4. \ud574\ub2f9 \uae00\uc744 \uc815\ub9d0\ub85c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var a=e.target.id,n="https://blog-imki123-backend.herokuapp.com/posts/"+a;N.a.delete(n,{withCredentials:!0}).then((function(e){console.log("".concat(a,"\ubc88 \uae00 \uc0ad\uc81c \uc131\uacf5")),t.refresh?t.setRefresh(!1):t.setRefresh(!0)})).catch((function(e){return alert(e)}))}},id:a.postId,style:{background:"red"}},"\uc0ad\uc81c"))),!("/"===C.pathname||C.pathname.indexOf("/about")>-1)&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"writeComment"},c.a.createElement("div",{className:"commentProfile"},t.login?"imki123"===t.login.username?c.a.createElement("img",{alt:"PROFILE",src:"/images/avatar.png"}):c.a.createElement("img",{alt:"PROFILE",src:"/images/dog"+(Math.floor(3*Math.random())+1)+".png"}):c.a.createElement("img",{alt:"PROFILE",src:"/images/noavatar.png"})),c.a.createElement("div",{className:"commentContent"},t.login?c.a.createElement("span",{className:"commentUsername"},t.login.username):c.a.createElement("button",{className:"loginButton",onClick:function(){j.push("/login")}},"\ub85c\uadf8\uc778"),t.login?c.a.createElement("textarea",{onChange:t.resizeTextarea,placeholder:" \ub313\uae00\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694 :D"}):c.a.createElement("textarea",{readOnly:!0,placeholder:" \ub85c\uadf8\uc778 \ud6c4\uc5d0 \ub313\uae00\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694 :D"}))),c.a.createElement("div",{className:"commentButtons"},t.login&&c.a.createElement("button",{className:"commentButton",onClick:function(e){var n=document.querySelector("#post_".concat(r," .commentContent textarea"));if(n&&""!==n.value&&window.confirm("\ub313\uae00\uc744 \uc791\uc131\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var c="https://blog-imki123-backend.herokuapp.com/comments/"+a.postId;N.a.patch(c,{withCredentials:!0,data:{username:t.login.username,content:n.value}}).then((function(e){console.log("".concat(a.postId," \ub313\uae00 \ucd94\uac00 \uc131\uacf5")),T(null,k(e.data.comments.length))})).catch((function(e){return alert(e)}))}}},"\ub313\uae00\uc791\uc131")),u&&u.length>0&&c.a.createElement("div",{className:"comments"},c.a.createElement("div",{className:"commentTitle"},c.a.createElement("div",{className:"commentCnt"},"\ub313\uae00 ",u.length,"\uac1c"),c.a.createElement("span",{className:"commentRefresh",onClick:T},"\ub313\uae00 \uc0c8\ub85c\uace0\uce68 ",c.a.createElement(w.a,null))),u.map((function(e,t){return t<b&&c.a.createElement(O,{post:a,comment:e,key:e.commentId,refreshComment:T})})),u.length>b&&c.a.createElement("div",{className:"more"},c.a.createElement("span",{className:"moreButton",onClick:function(e){return k(b+10)}},"\ub313\uae00 \ub354\ubcf4\uae30")))))}));a(93);var S=c.a.memo((function(e){for(var t=e.paging,a=Object(i.g)(),r=b.a.parse(a.search),l=[],s=0;s<t.lastPage;s++)l.push(s+1);return Object(n.useEffect)((function(){for(var e=document.querySelectorAll(".paging a"),t=0;t<e.length;t++)e[t].innerHTML===r.page?e[t].className="activePage":e[t].className="inactivePage",void 0===r.page&&"1"===e[t].innerHTML&&(e[t].className="activePage")}),[a,r]),c.a.createElement("div",{className:"paging"},l.map((function(e,t){return c.a.createElement(o.c,{path:a.pathname,to:"".concat(a.pathname,"?page=").concat(e),className:"inactivePage",key:t},e)})))}));a(94);var x=c.a.memo((function(e){var t=e.post,a=e.no,r=Object(n.useState)([]),l=Object(s.a)(r,2),m=l[0],u=l[1],d=Object(i.g)(),p=Object(y.a)({readOnly:!0}),g=p.quill,f=p.quillRef,h=t.publishedDate.substring(0,16).replace("T"," ");return Object(n.useEffect)((function(){t&&("string"===typeof t.body?t.body.length>100?u(t.body.replace("\n"," ").slice(0,100)+"..."):u(t.body):g&&(g.setContents(t.body),u(g.getText().replace(/\n/g," ")),g.setText(m)))}),[t,g,m]),c.a.createElement(o.b,{to:d.pathname+d.search+"#post_"+a},c.a.createElement("div",{className:"postList no-drag"},c.a.createElement("div",{className:"postListHeader"},c.a.createElement("div",null,c.a.createElement("span",{className:"postId"},a,"."),c.a.createElement("span",{className:"postTitle"},t.title)),c.a.createElement("span",{className:"postDate"},h)),"string"===typeof t.body?c.a.createElement("div",{className:"postBody"},m):c.a.createElement("div",{id:"editor"},c.a.createElement("div",{ref:f}))))}));a(95);var M=c.a.memo((function(){return console.log("Not found page! Go home. https://imki123.github.io".concat("")),c.a.createElement("div",{className:"notFound"},c.a.createElement("div",{className:"title"},"Not Found Page"),c.a.createElement("div",{className:"goHome"},c.a.createElement(o.b,{to:"/"},"Go Home")))}));a(96);var q=c.a.memo((function(e){var t=c.a.useContext(F),a=Object(i.g)(),r=Object(i.f)(),l="",o=navigator.userAgent.toLowerCase();o.indexOf("chrome")>-1?l="chrome":o.indexOf("safari")>-1&&(l="safari");var m=Object(n.useState)(""),u=Object(s.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(""),f=Object(s.a)(g,2),h=f[0],v=f[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),y=b[0],k=b[1],N=Object(n.useState)("\ub85c\uadf8\uc778"),O=Object(s.a)(N,2),C=O[0],w=O[1];Object(n.useEffect)((function(){t.login&&"/login"===a.pathname&&r.replace("/loginStatus"),a.pathname.indexOf("register")>-1?w("\ud68c\uc6d0\uac00\uc785"):a.pathname.indexOf("withdraw")>-1?w("\ud68c\uc6d0\ud0c8\ud1f4"):w("\ub85c\uadf8\uc778")}),[a,t.login,r]);var j=function(e){e.preventDefault();var a="https://blog-imki123-backend.herokuapp.com/auth",n=document.querySelector("[name=username]");n&&(n=n.value=n.value.replace(/[^a-zA-Z0-9\uac00-\ud7a3_]/g,""));var c=document.querySelector("[name=password]");c&&(c=c.value),""===d&&c.length>=1&&""===h&&""===y?"\ud68c\uc6d0\uac00\uc785"===C?(a+="/register",fetch(a,{mode:"cors",method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:c})}).then((function(e){if(200===e.status||201===e.status)e.json().then((function(e){alert(e.username+"\ub2d8\uc758 \ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4 :D"),r.go(-1)}));else{var t="\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4 :(";409===e.status&&(t+="\n\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),400===e.status&&(t+="\n\uc544\uc774\ub514\ub098 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),alert(t)}})).catch((function(e){return console.error(e)}))):"\ud68c\uc6d0\ud0c8\ud1f4"===C?window.confirm("\uacc4\uc815 \ud0c8\ud1f4\uc2dc \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc815\ub9d0\ub85c \ud0c8\ud1f4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(a+="/withdraw",fetch(a,{mode:"cors",method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.login.username,password:c})}).then((function(e){if(200===e.status)alert("\uacc4\uc815\uc774 \ud0c8\ud1f4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub610 \ub4e4\ub7ec \uc8fc\uc138\uc694 :D"),r.push("/");else{var t="\ud0c8\ud1f4\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4 :(";204===e.status&&(t+="\n\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4."),401===e.status&&(t+="\n\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),alert(t)}})).catch((function(e){return console.error(e)}))):(a+="/login",fetch(a,{mode:"cors",method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:c})}).then((function(e){if(200===e.status||201===e.status)e.json().then((function(e){t.setLogin(e),alert(e.username+"\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4 :D"),r.go(-1)}));else{var a="\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4 :(";401===e.status&&(a+="\n\ub85c\uadf8\uc778 \uc815\ubcf4\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),alert(a)}})).catch((function(e){return console.error(e)}))):alert("\uc785\ub825 \uc815\ubcf4\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")};return c.a.createElement("div",{id:"background"},c.a.createElement("div",{id:"loginWrapper"},c.a.createElement("form",{id:"login"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:["/login","/register","/withdraw"]},c.a.createElement("div",{className:"text"},"\uc544\uc774\ub514"),"\ud68c\uc6d0\ud0c8\ud1f4"===C?c.a.createElement("div",null,t.login.username):c.a.createElement("input",{name:"username",onChange:function(e){var t=e.target.value=e.target.value.replace(/\s/g,"_").replace(/[^a-zA-Z0-9\u3131-\u314e\u314f-\u3163\uac00-\ud7a3_]/g,"");t.length<3?p("- 3\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694"):t.length>20?p("- 20\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"):p("")}}),c.a.createElement("div",{className:"check"},d),c.a.createElement("div",{className:"text"},"\ube44\ubc00\ubc88\ud638"),c.a.createElement("input",{name:"password",type:"password",onChange:function(e){var t=e.target.value,a=document.querySelector("[name=passwordConfirm]");a&&(a.value="",k("")),t.length<6?v("- 6\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694"):t.length>20?v("- 20\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"):v("")},autoComplete:"currnet-password"}),c.a.createElement("div",{className:"check"},h),"\ud68c\uc6d0\uac00\uc785"===C&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text"},"\ube44\ubc00\ubc88\ud638 \ud655\uc778"),c.a.createElement("input",{name:"passwordConfirm",type:"password",onChange:function(e){var t=e.target.value;t!==document.querySelector("[name=password]").value&&t.length>=1?k("- \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):k("")},autoComplete:"currnet-password"}),c.a.createElement("div",{className:"check",id:"checkPasswordConfirm"},y)),"\ud68c\uc6d0\ud0c8\ud1f4"===C?c.a.createElement("button",{style:{background:"red"},onClick:j},C):c.a.createElement("button",{onClick:j},C),"safari"===l&&c.a.createElement("div",{className:"text",style:{fontSize:"0.8rem",textAlign:"center"}},"(Safari\uc758 \uacbd\uc6b0 \uc124\uc815\uc744 \ubcc0\uacbd\ud574\uc8fc\uc154\uc57c \ub85c\uadf8\uc778\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.",c.a.createElement("br",null),"\uc124\uc815 \u2192 Safari \u2192 \uac1c\uc778 \uc815\ubcf4 \ubcf4\ud638 \ubc0f \ubcf4\uc548 \u2192 ",c.a.createElement("br",null),"\ud06c\ub85c\uc2a4 \uc0ac\uc774\ud2b8 \ucd94\uc801\ubc29\uc9c0 OFF, \ubaa8\ub4e0 \ucfe0\ud0a4 \ucc28\ub2e8 OFF)")),c.a.createElement(i.a,{path:["/loginStatus"]},t.login?c.a.createElement("div",{className:"center"},t.login.username,"\ub2d8\uc740 \ud604\uc7ac ",c.a.createElement("span",{style:{color:"green"}},"\ub85c\uadf8\uc778")," \ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4 :D",c.a.createElement("br",null),c.a.createElement("span",{style:{fontSize:"0.8rem"}},"(\ub85c\uadf8\uc778\uc740 \ucd5c\ub300 \uc77c\uc8fc\uc77c\uac04 \uc720\uc9c0\ub429\ub2c8\ub2e4.)")):c.a.createElement("div",{className:"center"},"\uc7ac \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4 :D"))))))})),T=a(19);a(97),a(98);var I=c.a.memo((function(e){var t=c.a.useContext(F),a=Object(i.g)(),r=b.a.parse(a.search).postId,l=Object(i.f)(),o=Object(n.useState)([]),m=Object(s.a)(o,2),u=m[0],d=m[1],p=Object(y.a)({modules:{toolbar:[["bold","italic","underline","strike"],[{size:["small",!1,"large","huge"]},{header:1},{header:2}],[{align:[]}],[{color:[]},{background:[]}],[{indent:"-1"},{indent:"+1"}],[{list:"ordered"},{list:"bullet"}],["code-block","blockquote"],["link","image","video"],["clean"]],syntax:!0},formats:["bold","italic","underline","strike","code-block","blockquote","size","header","align","color","background","indent","list","link","image","video","clean"]}),g=p.quill,f=p.quillRef;Object(n.useEffect)((function(){var e=[];for(var a in t.mainMenus)"home"!==t.mainMenus[a].name&&"about"!==t.mainMenus[a].name&&"programming"!==t.mainMenus[a].name&&"article"!==t.mainMenus[a].name&&e.push(t.mainMenus[a]);d(e)}),[t.mainMenus]),Object(n.useEffect)((function(){if(void 0!==r&&Number(r)>=1&&g){var e="https://blog-imki123-backend.herokuapp.com/posts/id/"+r;N.a.get(e,{withCredentials:!0}).then((function(e){document.querySelector("[name=title]").value=e.data.title,"string"===typeof e.data.body?g.setText(e.data.body):g.setContents(e.data.body);var t,a=document.querySelectorAll("[type=radio]"),n=Object(T.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.checked=!1}}catch(i){n.e(i)}finally{n.f()}if(e.data.tags){var c=document.querySelector("[value=".concat(e.data.tags[0],"]"));c&&(c.checked=!0);var r,l=Object(T.a)(e.data.tags);try{for(l.s();!(r=l.n()).done;){var o=r.value,s=document.querySelector("[name=".concat(o,"]"));s&&(s.checked=!0)}}catch(i){l.e(i)}finally{l.f()}}})).catch((function(e){return alert(e)}))}}),[a,g,r]);var h=function(e){if(!t.login||t.login&&"imki123"!==t.login.username)alert("\uae00 \uc791\uc131\uc740 \ube14\ub85c\uadf8 \uc8fc\uc778\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4 ^^;");else if(window.confirm("\uae00\uc744 \uac8c\uc2dc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){var a=document.querySelector("[name=title]"),n=g.getContents(),c=document.querySelector("[type=radio]:checked"),o=[],s=document.querySelectorAll("[type=checkbox]:checked"),i=document.querySelector("[name=newMainMenu]"),m=document.querySelector("[name=newMenu]");if(c&&(o=[c.value]),""!==i.value&&(o=[i.value]),s){var u,d=Object(T.a)(s);try{for(d.s();!(u=d.n()).done;){var p=u.value;o.push(p.name)}}catch(E){d.e(E)}finally{d.f()}}if(""!==m.value&&o.push(m.value),0!==a.value.length)if(1!==g.getLength())if(o.length<1&&""===i.value)alert("\uba54\uc778\uba54\ub274\ub97c 1\uac1c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");else{var f="https://blog-imki123-backend.herokuapp.com/posts",h="POST",v="\uae00 \uc791\uc131 \uc131\uacf5";if("PATCH"===e.target.id){if(!(void 0!==r&&Number(r)>=1))return void console.log("postId \ube44\uc815\uc0c1, \uae00 \uc218\uc815 \uc2e4\ud328");f+="/"+r,h="PATCH",v="\uae00 \uc218\uc815 \uc131\uacf5"}N()(f,{method:h,withCredentials:!0,data:{title:a.value,body:n,tags:o}}).then((function(e){console.log(e.data),alert(v),l.push(o[0])})).catch((function(e){return alert(e)}))}else alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");else alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}};return Object(n.useEffect)((function(){var e=document.querySelector("#editor"),t=document.querySelector(".ql-toolbar");e&&t&&(e.style.marginBottom=t.clientHeight+10+"px"),window.removeEventListener("resize",(function(){})),window.addEventListener("resize",(function(){e&&t&&(e.style.marginBottom=t.clientHeight+10+"px")}))}),[a]),c.a.createElement("div",{className:"quill"},c.a.createElement("div",{className:"quillTitle"},c.a.createElement("input",{name:"title",placeholder:"\uc81c\ubaa9"})),c.a.createElement("div",{id:"editor"},c.a.createElement("div",{ref:f}),c.a.createElement("div",{id:"tags",className:"no-drag"},c.a.createElement("div",{id:"tagsTitle"},"tags",void 0!==r&&Number(r)>=1?c.a.createElement("button",{className:"editorButton",onClick:h,id:"PATCH"},"\uae00 \uc218\uc815"):c.a.createElement("button",{className:"editorButton",onClick:h},"\uc0c8\uae00 \uc791\uc131")),c.a.createElement("div",null,"\uba54\uc778\uba54\ub274:",c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"mainMenu",value:"home"}),"home"),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"mainMenu",value:"about"}),"about"),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"mainMenu",value:"programming"}),"programming"),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"mainMenu",value:"article"}),"article"),u&&u.map((function(e){return c.a.createElement("label",{key:e.name},c.a.createElement("input",{type:"radio",name:"mainMenu",value:e.name}),e.name)})),c.a.createElement("input",{name:"newMainMenu",placeholder:"\uba54\uc778\uba54\ub274 \ucd94\uac00",onChange:function(e){e.target.value=e.target.value.replace(/\s/g,"_");var t=document.querySelector("[type=radio]:checked");t&&(t.checked=!1)},autoComplete:"off"})),c.a.createElement("div",null,"\uc11c\ube0c\uba54\ub274:",t.subMenus&&t.subMenus.map((function(e){return c.a.createElement("label",{key:e},c.a.createElement("input",{type:"checkbox",name:e}),e)})),c.a.createElement("input",{name:"newMenu",placeholder:"\uc11c\ube0c\uba54\ub274 \ucd94\uac00",autoComplete:"off"})))))}));var L=c.a.memo((function(e){var t=c.a.useContext(F),a=Object(i.g)(),r=b.a.parse(a.search),l=1,s=null;if(t.headers){var m=Number(r.page)||1,u=Number(t.headers["last-page"]),d=Number(t.headers["total-post"]);s={page:m,lastPage:u,totalPost:d,startPost:l=d-5*(m-1)}}return Object(n.useEffect)((function(){var e=function(){t.resizeTextarea()};window.addEventListener("resize",e);var n=document.querySelector("#loading");return t.ready?(n&&(n.style.display="none"),a.hash&&setTimeout((function(){var e=document.querySelector("#content"),t=document.querySelector(a.hash);if(t){var n=e.scrollTop,c=t.offsetTop,r=(c-n)/50;if(c>n)var l=setInterval((function(){e.scrollTop+r>=c||e.scrollTop>=e.scrollHeight-e.clientHeight?clearInterval(l):e.scrollTop+=r}),10);else var o=setInterval((function(){e.scrollTop<=c?clearInterval(o):e.scrollTop+=r}),10)}}),10),setTimeout((function(){t.resizeTextarea()}),10)):n&&(n.style.display="flex"),window.removeEventListener("resize",e)}),[a.hash,t]),c.a.createElement("div",{id:"content",className:"slideMenu"},t.login&&"imki123"===t.login.username&&c.a.createElement(o.b,{id:"postFAB",className:"hover",to:"/quill"},c.a.createElement(v.a,null)),c.a.createElement("div",{id:"menuFAB",className:"hover",onClick:t.slideMenu},c.a.createElement("img",{alt:"MENU",src:"/images/guide_icon.png"})),c.a.createElement("div",{id:"loading"},c.a.createElement("img",{alt:"Loading",src:"/images/loading.gif"})),c.a.createElement(i.c,null,c.a.createElement(i.a,{path:["/login","/register","/loginStatus","/withdraw"]},c.a.createElement(q,null)),c.a.createElement(i.a,{path:["/quill"]},c.a.createElement(I,null)),c.a.createElement(i.a,{path:"*"},t.ready&&c.a.createElement(c.a.Fragment,null,t.posts.length<1?c.a.createElement(M,null):c.a.createElement(c.a.Fragment,null,l>1&&s&&c.a.createElement("div",{className:"postListWrapper"},c.a.createElement("div",{className:"postListTitle"},"\ubaa9\ub85d"),t.posts&&t.posts.map((function(e,t){return c.a.createElement(x,{no:l-t,post:e,key:e.postId})})),c.a.createElement(S,{paging:s})),t.posts&&t.posts.map((function(e,t){return c.a.createElement(j,{no:l-t,post:e,key:e.postId})})),l>1&&s&&c.a.createElement("div",{className:"postListWrapper"},c.a.createElement("div",{className:"postListTitle"},"\ubaa9\ub85d"),t.posts&&t.posts.map((function(e,t){return c.a.createElement(x,{no:l-t,post:e,key:e.postId})})),c.a.createElement(S,{paging:s})))))),c.a.createElement("textarea",{disabled:!0,id:"fakeTextarea"}))}));a(99);var P=c.a.memo((function(e){var t=c.a.useContext(F);return c.a.createElement("div",{id:"settingWrapper",onClick:function(e){var t=document.querySelector("#settingWrapper");e.stopPropagation(),setTimeout((function(){t.style.display="none"}),200)}},c.a.createElement("div",{id:"setting"},c.a.createElement("div",{id:"settingListWrapper"},t.login?c.a.createElement(o.b,{className:"settingList",to:"/loginStatus"},t.login.username):c.a.createElement(o.b,{className:"settingList",to:"/login"},"\ub85c\uadf8\uc778"),t.login&&c.a.createElement("div",{className:"settingList",onClick:function(e){if(window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){fetch("https://blog-imki123-backend.herokuapp.com/auth/logout",{mode:"cors",method:"POST",credentials:"include"}).then((function(e){204===e.status?(console.log("\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5"),t.setLogin(!1)):console.log("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328")})).catch((function(e){return console.error(e)}))}}},"\ub85c\uadf8\uc544\uc6c3"),!t.login&&c.a.createElement(o.b,{className:"settingList",to:"/register"},"\ud68c\uc6d0\uac00\uc785"),t.login&&c.a.createElement(o.b,{className:"settingList",to:"/withdraw"},"\ud68c\uc6d0\ud0c8\ud1f4"))))})),F=Object(n.createContext)();var _=c.a.memo((function(){var e=Object(i.g)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),d=Object(s.a)(o,2),p=d[0],g=d[1],h=Object(n.useState)({}),v=Object(s.a)(h,2),E=v[0],b=v[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),O=k[0],C=k[1],w=Object(n.useState)(!1),j=Object(s.a)(w,2),S=j[0],x=j[1],M=Object(n.useState)({}),q=Object(s.a)(M,2),T=q[0],I=q[1],_=Object(n.useState)([]),B=Object(s.a)(_,2),H=B[0],R=B[1],W={ready:r,setReady:l,posts:p,setPosts:g,headers:E,setHeaders:b,login:O,setLogin:C,refresh:S,setRefresh:x,mainMenus:T,setMainMenus:I,subMenus:H,setSubMenus:R,resizeTextarea:function(e){var t=document.querySelector("#fakeTextarea"),a=[];if(e&&e.target?a.push(e.target):a=document.querySelectorAll("textarea"),a&&t){for(var n=0;n<a.length;n++)t.style.height="1px",t.style.width=a[n].clientWidth+"px",t.value=a[n].value,a[n].style.height=5+t.scrollHeight+"px";t.value="",t.style.height="0px"}},slideMenu:function(){var e=document.querySelector("#body"),t=document.querySelector("#guideWrapper"),a=document.querySelector("#content");t.style.left.replace("px","")>-100?(t.parentNode.style.width="0",a.style.width="calc(100% - 16px)",e.clientWidth<500?t.style.left="-230px":t.style.left="-312px"):(t.style.left="0px",e.clientWidth<500?t.parentNode.style.width="100%":a.style.width="calc(100% - 312px - 16px)")}};return Object(n.useEffect)((function(){N.a.get("https://blog-imki123-backend.herokuapp.com/posts/menus",{withCredentials:!0}).then((function(e){I(e.data.mainMenus),R(e.data.subMenus)})).catch((function(e){return alert(e)}))}),[e.pathname,S]),Object(n.useEffect)((function(){var t;l(!1),t=function(){var t="https://blog-imki123-backend.herokuapp.com/posts",a=e.pathname.split("/");if(a="/"+a[1],"/"===e.pathname)t=t+"/home"+e.pathname+e.search;else{if(e.pathname.indexOf("/quill")>-1)return b(!1),g(!1),void l(!0);t=t+a+e.search}N.a.get(t,{withCredentials:!0}).then((function(e){b(e.headers),g(e.data),l(!0)})).catch((function(e){return alert(e)}))},N.a.get("https://blog-imki123-backend.herokuapp.com/auth/check",{withCredentials:!0}).then((function(e){e.data?(console.log("\ud1a0\ud070 \uccb4\ud06c \uc131\uacf5"),C(e.data)):(console.log("\ud1a0\ud070 \uc5c6\uc74c"),C(!1)),t&&t()})).catch((function(e){t&&t()}));var a=document.querySelector("#content");if(a)var n=a.scrollTop,c=setInterval((function(){var e=n/50;a.scrollTop-=e,a.scrollTop<=0&&clearInterval(c)}),10)}),[e.pathname,e.search,S]),c.a.createElement(F.Provider,{value:W},c.a.createElement("div",{id:"app"},c.a.createElement(m,null),c.a.createElement(P,null),c.a.createElement(u,null,c.a.createElement(f,null),c.a.createElement(L,null))))}));l.a.render(c.a.createElement(o.a,{basename:""},c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null))),document.getElementById("root"))},41:function(e,t,a){e.exports=a(101)},46:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.244596d9.chunk.js.map