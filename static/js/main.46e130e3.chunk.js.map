{"version":3,"sources":["components/Header.js","components/Body.js","components/Menu.js","components/Guide.js","components/Comment.js","components/Post.js","components/Paging.js","components/PostList.js","components/NotFoundPage.js","components/Login.js","components/Quill.js","components/Content.js","components/Setting.js","App.js","index.js"],"names":["React","memo","props","store","useContext","AppContext","id","className","onClick","slideMenu","alt","src","to","setting","document","querySelector","style","display","login","username","Math","floor","random","children","menu","subMenu","keys","Object","i","sort","push","exact","name","activeClassName","substring","toUpperCase","cnt","length","map","key","useState","newMenu","setNewMenu","useEffect","mainMenu","mainMenus","refresh","e","body","guideWrapper","content","clientWidth","parentNode","width","left","title","href","home","about","programming","article","comment","post","refreshComment","update","date","publishedDate","replace","postId","commentId","value","fontWeight","updated","readOnly","onChange","resizeTextarea","textarea","window","confirm","classList","remove","url","process","Axios","patch","withCredentials","data","then","res","console","log","catch","alert","add","focus","background","no","comments","setComments","ps","setPs","commentCnt","setCommentCnt","location","useLocation","history","useHistory","useQuill","modules","syntax","formats","quill","quillRef","split","setContents","func","svg","target","get","p","idx","ref","tags","delete","setRefresh","pathname","indexOf","placeholder","paging","search","queryString","parse","pages","lastPage","links","querySelectorAll","innerHTML","page","undefined","path","text","browser","agent","navigator","userAgent","toLowerCase","checkUsername","setCheckUsername","checkPassword","setCheckPassword","checkPasswordConfirm","setCheckPasswordConfirm","buttonName","setButtonName","clickButton","preventDefault","password","fetch","mode","method","credentials","headers","JSON","stringify","status","json","go","message","error","setLogin","type","passwordConfirm","autoComplete","fontSize","textAlign","color","toolbar","size","header","align","indent","list","tempMenu","Number","setText","checked","tag","clickPost","getContents","getText","checkBoxs","newMainMenu","getLength","editor","marginBottom","clientHeight","removeEventListener","addEventListener","subMenus","startPost","totalPost","resize","loading","ready","hash","setTimeout","elem","contentScroll","scrollTop","elemTop","offsetTop","dif","frame","setInterval","scrollHeight","clearInterval","posts","disabled","settingWrapper","stopPropagation","createContext","setReady","setPosts","setHeaders","setMainMenus","setSubMenus","fake","textareas","height","scroll","Provider","ReactDOM","render","basename","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46e130e3.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Header.css'\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../App'\r\n\r\nfunction Header(props) {\r\n    const store = React.useContext(AppContext) \r\n\r\n    const toggleSetting = () => {\r\n        const setting = document.querySelector('#settingWrapper')\r\n        if(setting){\r\n            if(setting.style.display === 'block'){\r\n                setting.style.display = 'none'\r\n            }else{\r\n                setting.style.display = 'block'\r\n            } \r\n        }\r\n    }\r\n\r\n\treturn(\r\n        <div id=\"headerWrapper\">\r\n            <div id=\"header\">\r\n                <div className=\"hover\" onClick={store.slideMenu}>\r\n                    <img id=\"menu\" alt=\"MENU\" src={process.env.PUBLIC_URL+'/images/guide_icon.png'}/>\r\n                </div>\r\n                <Link to=\"/\"> \r\n                    <div id=\"title\" className=\"hover\">\r\n                        <img id=\"logo\" alt=\"logo\" src={process.env.PUBLIC_URL+'/images/GitHub-Mark-32px.png'}/> \r\n                        행복한 코딩 블로그 :D\r\n                    </div>\r\n                </Link>\r\n                <div className=\"hover\"  onClick={toggleSetting}>\r\n                {!store.login ? \r\n                    <img className=\"profile\" alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/noavatar.png'}/> :\r\n                    store.login.username === 'imki123' ?\r\n                        <img className=\"profile\" alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/avatar_small.png'}/> :\r\n                        <img className=\"profile\" alt=\"PROFILE\" \r\n                            src={process.env.PUBLIC_URL+'/images/dog'+(Math.floor(Math.random() * (3 - 1 + 1)) + 1)+'.png'}/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\nexport default React.memo(Header)\r\n","import React from 'react'\r\nimport './Body.css'\r\n\r\nfunction Body(props) {\r\n\treturn(\r\n        <div id=\"body\">\r\n            {props.children}\r\n        </div>\r\n    ) \r\n}\r\nexport default React.memo(Body)\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport './Menu.css'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nfunction Menu(props) {\r\n    const {menu} = props\r\n    const subMenu = []\r\n    if(menu){\r\n        const keys = Object.keys(menu)\r\n        keys.sort()\r\n        for(let i in keys){\r\n            if(keys[i] !== 'cnt' && keys[i] !== 'name'){\r\n                subMenu.push(menu[keys[i]])\r\n            }\r\n        }\r\n    }\r\n\r\n    //menu정보를 받아서 링크 메뉴 생성하기\r\n    //menu { name: string, cnt: number, Object{ name: string, cnt: number}, Object{...}}\r\n\treturn(\r\n        <>\r\n            {menu && \r\n            <NavLink exact to={menu.name === 'home' ? '/' : `/${menu.name}`} className=\"list\" activeClassName=\"activeList\">\r\n                <span className=\"menuName\">{menu.name.substring(0,1).toUpperCase()+menu.name.substring(1)}</span>\r\n                <span className=\"menuOptions\">\r\n                    <span className=\"menuCnt\">{menu.cnt}</span>\r\n                    <span className=\"menuExpandIcon\">{Object.keys(menu).length > 2 && <ExpandMoreIcon/>}</span>\r\n                </span>\r\n            </NavLink>}\r\n            {subMenu.length > 0 && subMenu.map(i => \r\n                <NavLink exact to={`/${i.name}`} className=\"list subList\" activeClassName=\"activeList\" key={i.name}>\r\n                    <span className=\"menuName\">{i.name.substring(0,1).toUpperCase()+i.name.substring(1)}</span>\r\n                    <span className=\"menuOptions\">\r\n                        <span className=\"menuCnt\">{i.cnt}</span>\r\n                    </span>\r\n                </NavLink>\r\n            )}\r\n        </>\r\n    ) \r\n}\r\nexport default React.memo(Menu)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Guide.css'\r\nimport Menu from './Menu'\r\nimport { AppContext } from '../App'\r\n\r\nfunction Guide(props) {\r\n    const store = React.useContext(AppContext)\r\n    const [newMenu, setNewMenu] = useState([])\r\n    useEffect(() => {\r\n        const mainMenu = []\r\n        for(let i in store.mainMenus){\r\n            if(store.mainMenus[i].name !== 'home' \r\n            && store.mainMenus[i].name !== 'about' \r\n            && store.mainMenus[i].name !== 'programming' \r\n            && store.mainMenus[i].name !== 'article')\r\n            {\r\n                mainMenu.push(store.mainMenus[i])\r\n            }\r\n        }\r\n        setNewMenu(mainMenu)\r\n    },[store.mainMenus, store.refresh])\r\n    \r\n\r\n    //모바일에서 회색부분 클릭 시 메뉴 닫기\r\n    const closeMenuMobile = e => {\r\n        const body = document.querySelector('#body')\r\n        const guideWrapper = document.querySelector('#guideWrapper')\r\n        const content = document.querySelector('#content')\r\n\r\n        if(body.clientWidth < 500){ //모바일\r\n            guideWrapper.parentNode.style.width = '0' // 회색 0\r\n            guideWrapper.style.left = '-230px' // 메뉴 0\r\n            content.style.width = 'calc(100% - 16px)'\r\n        }\r\n    }\r\n\r\n\treturn(\r\n        <div id=\"guideBack\" onClick={closeMenuMobile}>\r\n            <div id=\"guideWrapper\" className=\"slideMenu\">\r\n                <div id=\"avatar\">\r\n                    <img alt=\"avatar\" src={process.env.PUBLIC_URL+'/images/avatar.png'} title='Hello :D'/>\r\n                    <div id=\"name\">Im kiyoung</div>\r\n                    <div id=\"nickName\">imki123</div>\r\n                    <div id=\"github\">\r\n                        <a href=\"https://github.com/imki123\">\r\n                            <img alt=\"github\" src={process.env.PUBLIC_URL+'/images/GitHub-Mark-32px.png'}\r\n                            /> <span>https://github.com/imki123</span>\r\n                        </a>\r\n                    </div>\r\n                    <div id=\"introduction\">\r\n                        A web programmer who dreams of being a wise developer.\r\n                    </div>\r\n                </div>\r\n                <div id=\"menus\">\r\n                    <Menu menu={store.mainMenus.home}/>\r\n                    <Menu menu={store.mainMenus.about}/>\r\n                    <Menu menu={store.mainMenus.programming}/>\r\n                    <Menu menu={store.mainMenus.article}/>\r\n                    {newMenu.map(i => <Menu menu={i} key={i}/>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\nexport default React.memo(Guide)\r\n","import React, { useEffect } from 'react'\r\nimport './Comment.css'\r\nimport { AppContext } from '../App'\r\nimport Axios from 'axios'\r\n\r\nfunction Comment(props) {\r\n    const store = React.useContext(AppContext)\r\n    const {comment, post, refreshComment} = props\r\n    let update = false\r\n    let date = comment.publishedDate.substring(0,16).replace('T',' ')\r\n    useEffect(() => {\r\n        const textarea = document.querySelector(`#comment_${post.postId}_${comment.commentId} textarea`)\r\n        textarea.value = comment.content\r\n    },[comment, post])\r\n\r\n    const updateComment = e => { //댓글 수정\r\n        const textarea = document.querySelector(`#comment_${post.postId}_${comment.commentId} textarea`)\r\n        if(!update){\r\n            update = true\r\n            textarea.classList.add('updateMode')\r\n            textarea.readOnly = false\r\n            textarea.focus()\r\n        }else if(window.confirm('댓글을 수정하시겠습니까?')){\r\n            update = false\r\n            textarea.classList.remove('updateMode')\r\n            textarea.readOnly = true\r\n            \r\n            let url = process.env.REACT_APP_URL+`/comments/${post.postId}/${comment.commentId}`\r\n            //url = process.env.REACT_APP_LOCAL_URL+`/comments/${post.postId}/${comment.commentId}`\r\n\r\n            Axios.patch(url, { //댓글 수정\r\n                withCredentials: true, //CORS\r\n                data: {\r\n                    content: textarea.value,\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(`${comment.commentId}번 댓글 수정 성공`)\r\n                refreshComment() //포스트 다시 불러오기\r\n            })\r\n            .catch(e => alert(e)) //실패\r\n        }\r\n    }\r\n\r\n    const deleteComment = e => {\r\n        if(window.confirm('삭제 후에는 복구가 불가합니다. 정말로 댓글을 삭제하시겠습니까?')){\r\n            let url = process.env.REACT_APP_URL+`/comments/delete/${post.postId}/${comment.commentId}`\r\n            //url = process.env.REACT_APP_LOCAL_URL+`/comments/delete/${post.postId}/${comment.commentId}`\r\n\r\n            Axios.patch(url, { //포스트 삭제\r\n                withCredentials: true, //CORS\r\n            })\r\n            .then(res => {\r\n                console.log(`${comment.commentId}번 댓글 삭제 성공`)\r\n                refreshComment() //포스트 다시 불러오기\r\n            })\r\n            .catch(e => alert(e)) //실패\r\n        }\r\n    }\r\n\r\n\treturn(\r\n    <div className=\"commentWrapper\" id={`comment_${post.postId}_${comment.commentId}`}>\r\n        <div className=\"comment\">\r\n            <div className=\"commentProfile\">\r\n                {!comment.username ? \r\n                <img alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/noavatar.png'}/> :\r\n                    comment.username === 'imki123' ?\r\n                        <img alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/avatar_small.png'}/> :\r\n                        <img alt=\"PROFILE\" \r\n                            src={process.env.PUBLIC_URL+'/images/dog'+(Math.floor(Math.random() * (3 - 1 + 1)) + 1)+'.png'}/>}\r\n            </div>\r\n            <div className=\"commentContent\">\r\n                {comment.username === store.login.username \r\n                ? <span className=\"commentUsername\" style={{fontWeight:'bold'}}>{comment.username}</span>\r\n                : <span className=\"commentUsername\">{comment.username}</span>}\r\n                <span className=\"commentDate\"> - {date} {comment.updated && '(수정됨)'}</span>\r\n                <textarea readOnly onChange={store.resizeTextarea}/>\r\n            </div>\r\n        </div>\r\n        {((comment.username && comment.username === store.login.username) \r\n            || store.login.username === 'imki123')&&\r\n        <div className=\"commentButtons\">\r\n            <button className=\"commentButton\" onClick={updateComment}>수정</button>\r\n            <button className=\"commentButton\" style={{background:'red'}} onClick={deleteComment}>삭제</button>\r\n        </div>}\r\n    </div>\r\n    ) \r\n}\r\nexport default React.memo(Comment)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Post.css'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { useQuill } from 'react-quilljs';\r\nimport Comment from './Comment'\r\nimport { AppContext } from '../App'\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport Axios from 'axios'\r\n\r\nfunction Post(props){\r\n    const store = React.useContext(AppContext)\r\n    const {post, no} = props\r\n    const [comments, setComments] = useState(post.comments)\r\n    const [ps, setPs] = useState([])\r\n    const [commentCnt, setCommentCnt] = useState(3)\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    let date = post.publishedDate.substring(0,16).replace('T',' ')\r\n    const modules = {syntax: true}\r\n    const formats = ['bold', 'italic', 'underline', 'strike', 'code-block', 'blockquote', 'size',\r\n        'header', 'align', 'color', 'background', 'indent', 'list', 'link', 'image', 'video', 'clean']\r\n\tconst { quill, quillRef } = useQuill({modules, formats, readOnly: true})\r\n\r\n    useEffect(() => {\r\n        if(post){\r\n            if(typeof(post.body) === 'string'){ \r\n                setPs(post.body.split('\\n')) //텍스트일 경우 문단으로 쪼개기\r\n            }else{\r\n                if(quill){\r\n                    quill.setContents(post.body)\r\n                }\r\n            }\r\n        }\r\n    },[post, location, quill])\r\n\r\n    const deletePost = e => {\r\n        if(window.confirm('글 삭제 시 복구가 불가합니다. 해당 글을 정말로 삭제하시겠습니까?')){\r\n            const postId = e.target.id\r\n            let url = process.env.REACT_APP_URL+'/posts/'+postId\r\n            //url = process.env.REACT_APP_LOCAL_URL+'/posts/'+postId\r\n            \r\n            Axios.delete(url, { //글 삭제\r\n                withCredentials: true, //CORS\r\n            })\r\n            .then(res => {\r\n                console.log(`${postId}번 글 삭제 성공`)\r\n                store.refresh ? store.setRefresh(false) : store.setRefresh(true)\r\n            })\r\n            .catch(e => alert(e)) //실패\r\n        }\r\n    }\r\n\r\n    const postComment = e => {\r\n        const comment = document.querySelector(`#post_${no} .commentContent textarea`) //댓글 텍스트\r\n        if(comment && comment.value !== '' && window.confirm('댓글을 작성하시겠습니까?')){\r\n            let url = process.env.REACT_APP_URL+'/comments/'+post.postId\r\n            //url = process.env.REACT_APP_LOCAL_URL+'/comments/'+post.postId\r\n            \r\n            Axios.patch(url, { //댓글 작성\r\n                withCredentials: true, //CORS\r\n                data: {\r\n                    username: store.login.username,\r\n                    content: comment.value,\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(`${post.postId} 댓글 추가 성공`)\r\n                refreshComment(null, setCommentCnt(res.data.comments.length)) //포스트 다시 불러오고 댓글 끝까지 보이기\r\n            })\r\n            .catch(e => alert(e)) //실패\r\n        }\r\n    }\r\n\r\n    const refreshComment = (e,func) => { //댓글 가져오기\r\n        let url = process.env.REACT_APP_URL+'/comments/'+post.postId\r\n        //url = process.env.REACT_APP_LOCAL_URL+'/comments/'+post.postId\r\n        \r\n        let svg //refresh 아이콘\r\n        if(e && e.target) svg = e.target.querySelector('svg')\r\n        if(svg) svg.classList.add('refreshing') //refresh 애니메이션 시작\r\n\r\n        Axios.get(url, {\r\n            withCredentials: true,\r\n        }) //댓글 새로고치기\r\n\t\t.then(res => {\r\n\t\t\tconsole.log(`${post.postId} 댓글 새로고침`)\r\n            setComments(res.data) //댓글 저장\r\n            if(svg) svg.classList.remove('refreshing') //refresh 애니메이션 끝\r\n            \r\n            if(func) func() //파라미터에 함수가 있으면 함수 실행\r\n\t\t})\r\n\t\t.catch(e => { //실패\r\n            if(svg) svg.classList.remove('refreshing') //refresh 애니메이션 끝\r\n            alert(e)\r\n        }) \r\n    }\r\n\r\n    //댓글 10개 더보기\r\n    const more = e => {\r\n        setCommentCnt(commentCnt + 10)\r\n    }\r\n\r\n    //댓글 더보기, 댓글 새로고침 하면 리사이즈\r\n    useEffect(() => {\r\n        store.resizeTextarea()\r\n    },[commentCnt, store, comments])\r\n\r\n    return(\r\n        <div className=\"post\" id={`post_${no}`}>\r\n            <div className=\"nav\">{date}</div>\r\n            <h2 className=\"postTitle\">{no}. {post.title}</h2>\r\n            <div className=\"postContent\">\r\n                {/* 본문 */}\r\n                {typeof(post.body) === 'string' ? \r\n                    ps.map((p,idx) => <p key={idx}>{p}</p>) :\r\n                    <div id=\"editor\">\r\n                        <div ref={quillRef} />\r\n                    </div>\r\n                }\r\n\r\n                {/* 태그 */}\r\n                <div className=\"tags\">\r\n                <span>태그 : </span>\r\n                {post.tags && post.tags.map((i,idx) => \r\n                    idx === 0 ? \r\n                    <span key={i}><Link to={i === 'home' ? '/' : `/${i}`}>{i}</Link></span> : \r\n                    <span key={i}>, <Link to={`/${i}`}>{i}</Link></span>)}\r\n                </div>\r\n\r\n                {/* 글 수정 삭제 버튼 */}\r\n                {store.login && store.login.username === 'imki123' && <div className=\"postButtons\">\r\n                    <Link to={`/quill?postId=${post.postId}`} className=\"hover no-drag\">수정</Link>&nbsp;\r\n                    <button onClick={deletePost} id={post.postId} style={{background: 'red'}}>삭제</button>\r\n                </div>}\r\n            </div>\r\n\r\n            {!(location.pathname === '/' || location.pathname.indexOf('/about') > -1) && <>\r\n                {/* 댓글 작성*/}\r\n                <div className=\"writeComment\">\r\n                    <div className=\"commentProfile\">\r\n                        {!store.login ? \r\n                        <img alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/noavatar.png'}/> :\r\n                        store.login.username === 'imki123' ?\r\n                        <img alt=\"PROFILE\" src={process.env.PUBLIC_URL+'/images/avatar.png'}/> :\r\n                        <img alt=\"PROFILE\" \r\n                            src={process.env.PUBLIC_URL+'/images/dog'+(Math.floor(Math.random() * (3 - 1 + 1)) + 1)+'.png'}/>}\r\n                    </div>\r\n                    <div className=\"commentContent\">\r\n                        {store.login \r\n                        ? <span className=\"commentUsername\">{store.login.username}</span> \r\n                        : <button className=\"loginButton\" onClick={() => {history.push('/login')}}>로그인</button>}\r\n                        {store.login ? \r\n                            <textarea onChange={store.resizeTextarea} placeholder=\" 댓글을 남겨주세요 :D\"/> : \r\n                            <textarea readOnly placeholder=\" 로그인 후에 댓글을 남겨주세요 :D\"/>}\r\n                    </div>\r\n                </div>\r\n                <div className=\"commentButtons\">\r\n                    {store.login && <button className=\"commentButton\" onClick={postComment}>댓글작성</button>}\r\n                </div>\r\n\r\n                {/* 댓글 목록 */}\r\n                {comments && comments.length > 0 &&\r\n                <div className=\"comments\">\r\n                    <div className=\"commentTitle\">\r\n                        <div className=\"commentCnt\">댓글 {comments.length}개</div>\r\n                        <span className=\"commentRefresh\" onClick={refreshComment}>댓글 새로고침 <RefreshIcon/></span>\r\n                    </div>\r\n                    {comments.map((i, idx) => idx < commentCnt &&\r\n                        <Comment post={post} comment={i} key={i.commentId} refreshComment={refreshComment}/>)}\r\n                    {comments.length > commentCnt && \r\n                        <div className=\"more\">\r\n                            <span className=\"moreButton\" onClick={more}>댓글 더보기</span>\r\n                        </div>}\r\n                </div>}\r\n            </>}\r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Post)","import React, { useEffect } from 'react'\r\nimport './Paging.css'\r\nimport {NavLink, useLocation } from 'react-router-dom'\r\nimport queryString from 'query-string';\r\n\r\nfunction Paging(props){\r\n    const {paging} = props //page, lastPage, totalPost, startPost\r\n    const location = useLocation()\r\n    const search = queryString.parse(location.search)\r\n    const pages = []\r\n\r\n    for(let i=0; i<paging.lastPage; i++){\r\n        pages.push(i+1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const links = document.querySelectorAll('.paging a')\r\n        for(let i=0; i<links.length; i++){\r\n            if(links[i].innerHTML === search.page){\r\n                links[i].className = 'activePage'\r\n            }else{\r\n                links[i].className = 'inactivePage'\r\n            }\r\n            if(search.page === undefined){ //search에 page가 없으면 1을 activePage로 설정\r\n                if(links[i].innerHTML === '1'){\r\n                    links[i].className = 'activePage'\r\n                }\r\n            }\r\n        }\r\n    }, [location, search])\r\n\r\n    \r\n    return(\r\n        <div className=\"paging\">\r\n            {pages.map((p, idx) =>  \r\n                <NavLink path={location.pathname} to={`${location.pathname}?page=${p}`} \r\n                    className=\"inactivePage\" key={idx}>{p}</NavLink>)}\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(Paging)","import React from 'react'\r\nimport './PostList.css'\r\nimport { useLocation, Link } from 'react-router-dom'\r\n\r\nfunction PostList(props){\r\n    const {post, no} = props\r\n    const location = useLocation()\r\n    let date = post.publishedDate.substring(0,16).replace('T',' ')\r\n\r\n    return(\r\n        <Link to={location.pathname+location.search+'#post_'+no}>\r\n            <div className=\"postList no-drag\">\r\n                <div className=\"postListHeader\">\r\n                    <div>\r\n                        <span className=\"postId\">{no}.</span>\r\n                        <span className=\"postTitle\">{post.title}</span>\r\n                    </div>\r\n                    <span className=\"postDate\">{date}</span>\r\n                </div>\r\n                <div className=\"postBody\">{post.text}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\nexport default React.memo(PostList)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './NotFoundPage.css'\r\n\r\nfunction NotFoundPage() {\r\n\tconsole.log(\r\n\t\t`Not found page! Go home. https://imki123.github.io${process.env.PUBLIC_URL}`,\r\n\t)\r\n\treturn (\r\n\t\t<div className=\"notFound\">\r\n\t\t\t<div className=\"title\">Not Found Page</div>\r\n\t\t\t<div className=\"goHome\">\r\n\t\t\t\t<Link to=\"/\">Go Home</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default React.memo(NotFoundPage)\r\n","import React, { useState, useEffect } from 'react'\r\nimport './Login.css'\r\nimport { Switch, Route, useLocation, useHistory } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\n\r\nfunction Login(props) {\r\n    const store = React.useContext(AppContext)\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n    let browser = ''\r\n    const agent = navigator.userAgent.toLowerCase()\r\n    if(agent.indexOf(\"chrome\") > -1) browser = 'chrome'\r\n    else if(agent.indexOf(\"safari\") > -1) browser = 'safari'\r\n        \r\n    const [checkUsername, setCheckUsername] = useState('')\r\n    const [checkPassword, setCheckPassword] = useState('')\r\n    const [checkPasswordConfirm, setCheckPasswordConfirm] = useState('')\r\n    const [buttonName, setButtonName] = useState('로그인')\r\n    \r\n\r\n    useEffect(() => {\r\n        //이미 로그인이 되어있다면 스테이터스로 이동\r\n        if(store.login && location.pathname === '/login'){ \r\n            history.replace('/loginStatus')\r\n        }\r\n        if(location.pathname.indexOf('register') > -1){\r\n            setButtonName('회원가입')\r\n        }else if(location.pathname.indexOf('withdraw') > -1){\r\n            setButtonName('회원탈퇴')\r\n        }else{\r\n            setButtonName('로그인')\r\n        }\r\n    },[location, store.login, history])\r\n\r\n    const changeUsername = e => {\r\n        const pattern = /[^a-zA-Z0-9ㄱ-ㅎㅏ-ㅣ가-힣_]/g\r\n        const value = e.target.value = e.target.value.replace(/\\s/g,'_').replace(pattern,'')\r\n        if(value.length < 3){ //3글자 이상\r\n            setCheckUsername('- 3자 이상 입력해주세요')\r\n        }else if(value.length > 20){ //20글자 이하\r\n            setCheckUsername('- 20자 이하로 입력해주세요')\r\n        }else{\r\n            setCheckUsername('')\r\n        }\r\n    }\r\n    const changePassword = e => {\r\n        const {value} = e.target\r\n        const passwordConfirm = document.querySelector('[name=passwordConfirm]')\r\n        \r\n        //비밀번호가 변경되면 비밀번호 확인은 초기화\r\n        if(passwordConfirm){\r\n            passwordConfirm.value = ''\r\n            setCheckPasswordConfirm('')\r\n        }\r\n\r\n        if(value.length < 6){ //6글자 이상\r\n            setCheckPassword('- 6자 이상 입력해주세요')\r\n        }else if(value.length > 20){ //20글자 이하\r\n            setCheckPassword('- 20자 이하로 입력해주세요')\r\n        }else{\r\n            setCheckPassword('')\r\n        }\r\n    }\r\n    const changePasswordConfirm = e => {\r\n        const {value} = e.target\r\n        const password = document.querySelector('[name=password]')\r\n        \r\n        if(value !== password.value && value.length >= 1){ //password와 같으면\r\n            setCheckPasswordConfirm('- 비밀번호가 일치하지 않습니다')\r\n        }else{\r\n            setCheckPasswordConfirm('')\r\n        }\r\n    }\r\n    const clickButton = e => {\r\n        e.preventDefault();\r\n        let url = process.env.REACT_APP_URL+'/auth'\r\n        //url = process.env.REACT_APP_LOCAL_URL+'/auth'\r\n        \r\n        const pattern = /[^a-zA-Z0-9가-힣_]/g\r\n        let username = document.querySelector('[name=username]')\r\n        if(username) username = username.value = username.value.replace(pattern,'')\r\n        let password = document.querySelector('[name=password]')\r\n        if(password) password = password.value\r\n\r\n        if(checkUsername === '' && password.length >= 1 &&\r\n            checkPassword === '' && checkPasswordConfirm === '')\r\n        { //입력폼에 이상이 없으면 fetch submit\r\n            if(buttonName === '회원가입'){\r\n                url += '/register'\r\n                fetch(url,{\r\n                    mode: 'cors',\r\n                    method: 'POST',\r\n                    credentials: \"include\",\r\n                    headers:{'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        username: username,\r\n                        password: password,\r\n                    }),\r\n                })\r\n                .then(res => {\r\n                    if(res.status===200 || res.status===201) { //성공하면 아래 then 작동\r\n                        res.json().then(res =>{ \r\n                            alert(res.username+'님의 회원가입에 성공했습니다 :D')\r\n                            history.go(-1)\r\n                        })\r\n                    }else{\r\n                        let message = '회원가입에 실패했습니다 :('\r\n                        if(res.status === 409){\r\n                            message += '\\n이미 존재하는 아이디입니다.'\r\n                        }\r\n                        if(res.status === 400){\r\n                            message += '\\n아이디나 비밀번호를 확인해주세요.'\r\n                        }\r\n                        alert(message)\r\n                    }\r\n                })\r\n                .catch(e => console.error(e))\r\n            }else if(buttonName === '회원탈퇴'){\r\n                if(window.confirm(\"계정 탈퇴시 복구할 수 없습니다. 정말로 탈퇴하시겠습니까?\")){\r\n                    url += '/withdraw'\r\n                    fetch(url,{\r\n                        mode: 'cors',\r\n                        method: 'DELETE',\r\n                        credentials: \"include\",\r\n                        headers:{'Content-Type': 'application/json'},\r\n                        body: JSON.stringify({\r\n                            username: store.login.username,\r\n                            password: password,\r\n                        }),\r\n                    })\r\n                    .then(res => {\r\n                        if(res.status===200) { //삭제하면 Ok\r\n                            alert('계정이 탈퇴되었습니다. 또 들러 주세요 :D')\r\n                            history.push('/')\r\n                        }else{\r\n                            let message = '탈퇴에 실패했습니다 :('\r\n                            if(res.status === 204){\r\n                                message += '\\n존재하지 않는 아이디입니다.'\r\n                            }\r\n                            if(res.status === 401){\r\n                                message += '\\n비밀번호를 확인해주세요.'\r\n                            }\r\n                            alert(message)\r\n                        }\r\n                    })\r\n                    .catch(e => console.error(e))\r\n                }\r\n            }else{ //로그인\r\n                url += '/login'\r\n                fetch(url,{\r\n                    mode: 'cors',\r\n                    method: 'POST',\r\n                    credentials: \"include\",\r\n                    headers:{'Content-Type': 'application/json'},\r\n                    body: JSON.stringify({\r\n                        username: username,\r\n                        password: password,\r\n                    }),\r\n                })\r\n                .then(res => {\r\n                    if(res.status===200 || res.status===201) { //성공하면 아래 then 작동\r\n                        res.json().then(res =>{ \r\n                            store.setLogin(res)\r\n                            alert(res.username+'님 환영합니다 :D')\r\n                            history.go(-1)\r\n                        })\r\n                    }else{\r\n                        let message = '로그인에 실패했습니다 :('\r\n                        if(res.status === 401){\r\n                            message += '\\n로그인 정보를 확인해주세요.'\r\n                        }\r\n                        alert(message)\r\n                    }\r\n                })\r\n                .catch(e => console.error(e))\r\n            }\r\n        }else{\r\n            alert('입력 정보를 확인해주세요.')\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div id=\"background\">\r\n            <div id=\"loginWrapper\">\r\n                <form id=\"login\">\r\n                    <Switch>\r\n                        <Route path={['/login','/register','/withdraw']}>\r\n                            <div className=\"text\">아이디</div>\r\n                            {buttonName === '회원탈퇴' ?\r\n                                <div>{store.login.username}</div> :\r\n                                <input name=\"username\" onChange={changeUsername}/>\r\n                            }\r\n\r\n                            <div className=\"check\">{checkUsername}</div>\r\n\r\n                            <div className=\"text\">비밀번호</div>\r\n                            <input name=\"password\" type=\"password\" onChange={changePassword} autoComplete=\"currnet-password\"/>\r\n                            <div className=\"check\">{checkPassword}</div>\r\n                            \r\n                            {buttonName === '회원가입' &&\r\n                            <>\r\n                                <div className=\"text\">비밀번호 확인</div>\r\n                                <input name=\"passwordConfirm\" type=\"password\" onChange={changePasswordConfirm} autoComplete=\"currnet-password\"/>\r\n                                <div className=\"check\" id=\"checkPasswordConfirm\">{checkPasswordConfirm}</div>\r\n                            </>}\r\n\r\n                            {buttonName === '회원탈퇴' \r\n                            ? <button style={{background: 'red'}} onClick={clickButton}>{buttonName}</button>\r\n                            : <button onClick={clickButton}>{buttonName}</button>}\r\n\r\n                            {browser === 'safari' &&\r\n                            <div className=\"text\" style={{fontSize: '0.8rem', textAlign: 'center'}}>\r\n                                (Safari의 경우 설정을 변경해주셔야 로그인이 가능합니다.<br/>설정 → Safari → 개인 정보 보호 및 보안 → <br/>크로스 사이트 추적방지 OFF, 모든 쿠키 차단 OFF) \r\n                            </div>}\r\n                        </Route>\r\n                        <Route path={['/loginStatus']}>\r\n                            {store.login ? \r\n                            <div className=\"center\">\r\n                                {store.login.username}님은 현재 <span style={{color:'green'}}>로그인</span> 되어있습니다 :D<br/>\r\n                                <span style={{fontSize: '0.8rem'}}>(로그인은 최대 일주일간 유지됩니다.)</span>\r\n                            </div> : \r\n                            <div className=\"center\">\r\n                                재 로그인이 필요합니다 :D\r\n                            </div>}\r\n                        </Route>\r\n                    </Switch>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\nexport default React.memo(Login)\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Quill.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { useQuill } from 'react-quilljs'\r\nimport queryString from 'query-string'\r\nimport { AppContext } from '../App'\r\nimport Axios from 'axios'\r\n\r\nfunction Quill(props) {\r\n\tconst store = React.useContext(AppContext)\r\n\tconst location = useLocation()\r\n\tconst postId = queryString.parse(location.search).postId\r\n\tconst history = useHistory()\r\n\tconst [newMenu, setNewMenu] = useState([])\r\n\r\n\tconst modules = {\r\n\t\ttoolbar: [\r\n\t\t\t['bold', 'italic', 'underline', 'strike'],\r\n\t\t\t[{ size: ['small', false, 'large', 'huge'] }, { header: 1 }, { header: 2 }],\r\n\t\t\t[{ align: [] }],\r\n\t\t\t[{ color: [] }, { background: [] }],\r\n\t\t\t[{ indent: '-1' }, { indent: '+1' }],\r\n\t\t\t[{ list: 'ordered' }, { list: 'bullet' }],\r\n\t\t\t['code-block', 'blockquote'],\r\n\t\t\t['link', 'image', 'video'],\r\n\t\t\t['clean'],\r\n\t\t],\r\n\t\tsyntax: true,\r\n\t}\r\n\tconst formats = ['bold', 'italic', 'underline', 'strike', 'code-block', 'blockquote', 'size', 'header', 'align', 'color', 'background', 'indent', 'list', 'link', 'image', 'video', 'clean']\r\n\r\n\tconst { quill, quillRef } = useQuill({ modules, formats })\r\n\r\n\tuseEffect(() => {\r\n\t\tconst tempMenu = []\r\n\t\tfor (let i in store.mainMenus) {\r\n\t\t\tif (store.mainMenus[i].name !== 'home' && store.mainMenus[i].name !== 'about' && store.mainMenus[i].name !== 'programming' && store.mainMenus[i].name !== 'article') {\r\n\t\t\t\ttempMenu.push(store.mainMenus[i])\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetNewMenu(tempMenu)\r\n\t}, [store.mainMenus])\r\n\r\n\tuseEffect(() => {\r\n\t\t//포스트 불러오기 axios\r\n\t\tif (postId !== undefined && Number(postId) >= 1 && quill) {\r\n\t\t\t//postId가 없으면 포스트 내용 가져오지 않기\r\n\t\t\tlet url = process.env.REACT_APP_URL + '/posts/id/' + postId\r\n\t\t\t//url = process.env.REACT_APP_LOCAL_URL+'/posts/id/' + postId\r\n\r\n\t\t\tAxios.get(url, {\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t}) //포스트 작성, 수정\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tlet title = document.querySelector('[name=title]')\r\n\t\t\t\t\ttitle.value = res.data.title\r\n\t\t\t\t\tif (typeof res.data.body === 'string') quill.setText(res.data.body)\r\n\t\t\t\t\t//body가 string이면 setText\r\n\t\t\t\t\telse quill.setContents(res.data.body) //body가 string이 아니면 setContents : Delta\r\n\r\n\t\t\t\t\tconst tags = document.querySelectorAll('[type=radio]')\r\n\t\t\t\t\tfor (let i of tags) {\r\n\t\t\t\t\t\t//체크 초기화\r\n\t\t\t\t\t\ti.checked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data.tags) {\r\n\t\t\t\t\t\t//체크박스 체크\r\n\t\t\t\t\t\tconst mainMenu = document.querySelector(`[value=${res.data.tags[0]}]`)\r\n\t\t\t\t\t\tif (mainMenu) mainMenu.checked = true\r\n\t\t\t\t\t\tfor (let i of res.data.tags) {\r\n\t\t\t\t\t\t\tconst tag = document.querySelector(`[name=${i}]`)\r\n\t\t\t\t\t\t\tif (tag) tag.checked = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => alert(e)) //실패\r\n\t\t}\r\n\t}, [location, quill, postId])\r\n\r\n\t//글 작성 or 수정\r\n\tconst clickPost = (e) => {\r\n\t\tif (!store.login || (store.login && store.login.username !== 'imki123')) {\r\n\t\t\talert('글 작성은 블로그 주인만 가능합니다 ^^;')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (!window.confirm('글을 게시하시겠습니까?')) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t//제목, 내용, 태그가 있는지 검사\r\n\t\tlet title = document.querySelector('[name=title]')\r\n\t\tconst content = quill.getContents()\r\n\t\tconst text = quill.getText()\r\n\t\tconst mainMenu = document.querySelector('[type=radio]:checked')\r\n\t\tlet tags = []\r\n\t\tconst checkBoxs = document.querySelectorAll('[type=checkbox]:checked')\r\n\t\tconst newMainMenu = document.querySelector('[name=newMainMenu]')\r\n\t\tconst newMenu = document.querySelector('[name=newMenu]')\r\n\r\n\t\tif (mainMenu) {\r\n\t\t\ttags = [mainMenu.value]\r\n\t\t}\r\n\t\tif (newMainMenu.value !== '') {\r\n\t\t\ttags = [newMainMenu.value]\r\n\t\t}\r\n\t\tif (checkBoxs) {\r\n\t\t\tfor (let i of checkBoxs) {\r\n\t\t\t\ttags.push(i.name)\r\n\t\t\t} //체크 된 서브메뉴 추가\r\n\t\t}\r\n\t\tif (newMenu.value !== '') {\r\n\t\t\ttags.push(newMenu.value)\r\n\t\t}\r\n\r\n\t\tif (title.value.length === 0) {\r\n\t\t\talert('제목을 입력해주세요.')\r\n\t\t\treturn\r\n\t\t} else if (quill.getLength() === 1) {\r\n\t\t\talert('내용을 입력해주세요.')\r\n\t\t\treturn\r\n\t\t} else if (tags.length < 1 && newMainMenu.value === '') {\r\n\t\t\talert('메인메뉴를 1개 선택해주세요.')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t//url에 POST 또는 PATCH 요청\r\n\t\tlet url = process.env.REACT_APP_URL + '/posts'\r\n\t\turl = process.env.REACT_APP_LOCAL_URL + '/posts'\r\n\t\tlet method = 'POST',\r\n\t\t\tmessage = '글 작성 성공'\r\n\t\tif (e.target.id === 'PATCH') {\r\n\t\t\tif (postId !== undefined && Number(postId) >= 1) {\r\n\t\t\t\turl += '/' + postId\r\n\t\t\t\tmethod = 'PATCH'\r\n\t\t\t\tmessage = '글 수정 성공'\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('postId 비정상, 글 수정 실패')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tAxios(url, {\r\n\t\t\t//포스트 작성, 수정 (최대 10mb. koa-bodyparser에서 설정.)\r\n\t\t\tmethod: method,\r\n\t\t\twithCredentials: true, //CORS\r\n\t\t\tdata: {\r\n\t\t\t\ttitle: title.value,\r\n\t\t\t\tbody: content,\r\n\t\t\t\ttext: text,\r\n\t\t\t\ttags: tags,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res.data)\r\n\t\t\t\talert(message) //성공\r\n\t\t\t\thistory.push(tags[0]) //수정 성공하면 해당 글의 태그로 이동함\r\n\t\t\t})\r\n\t\t\t.catch((e) => alert(e)) //실패\r\n\t}\r\n\r\n\t// 화면 리사이즈시 editor 아래 마진 변경\r\n\tuseEffect(() => {\r\n\t\tconst editor = document.querySelector('#editor')\r\n\t\tconst toolbar = document.querySelector('.ql-toolbar')\r\n\t\tif (editor && toolbar) {\r\n\t\t\teditor.style.marginBottom = toolbar.clientHeight + 10 + 'px'\r\n\t\t}\r\n\t\twindow.removeEventListener('resize', function () {})\r\n\t\twindow.addEventListener('resize', function () {\r\n\t\t\tif (editor && toolbar) {\r\n\t\t\t\teditor.style.marginBottom = toolbar.clientHeight + 10 + 'px'\r\n\t\t\t}\r\n\t\t})\r\n\t}, [location])\r\n\r\n\t//메인메뉴 추가시 라디오박스 체크 해제, 띄어쓰기를 _로 변경\r\n\tconst changeMainMenu = (e) => {\r\n\t\te.target.value = e.target.value.replace(/\\s/g, '_')\r\n\t\tconst mainMenu = document.querySelector('[type=radio]:checked')\r\n\t\tif (mainMenu) mainMenu.checked = false\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"quill\">\r\n\t\t\t<div className=\"quillTitle\">\r\n\t\t\t\t<input name=\"title\" placeholder=\"제목\" />\r\n\t\t\t</div>\r\n\t\t\t<div id=\"editor\">\r\n\t\t\t\t<div ref={quillRef} />\r\n\t\t\t\t<div id=\"tags\" className=\"no-drag\">\r\n\t\t\t\t\t<div id=\"tagsTitle\">\r\n\t\t\t\t\t\ttags\r\n\t\t\t\t\t\t{postId !== undefined && Number(postId) >= 1 ? (\r\n\t\t\t\t\t\t\t<button className=\"editorButton\" onClick={clickPost} id=\"PATCH\">\r\n\t\t\t\t\t\t\t\t글 수정\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<button className=\"editorButton\" onClick={clickPost}>\r\n\t\t\t\t\t\t\t\t새글 작성\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t메인메뉴:\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"mainMenu\" value=\"home\" />\r\n\t\t\t\t\t\t\thome\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"mainMenu\" value=\"about\" />\r\n\t\t\t\t\t\t\tabout\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"mainMenu\" value=\"programming\" />\r\n\t\t\t\t\t\t\tprogramming\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"mainMenu\" value=\"article\" />\r\n\t\t\t\t\t\t\tarticle\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t{newMenu &&\r\n\t\t\t\t\t\t\tnewMenu.map((i) => (\r\n\t\t\t\t\t\t\t\t<label key={i.name}>\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"mainMenu\" value={i.name} />\r\n\t\t\t\t\t\t\t\t\t{i.name}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<input name=\"newMainMenu\" placeholder=\"메인메뉴 추가\" onChange={changeMainMenu} autoComplete=\"off\"></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t서브메뉴:\r\n\t\t\t\t\t\t{store.subMenus &&\r\n\t\t\t\t\t\t\tstore.subMenus.map((i) => (\r\n\t\t\t\t\t\t\t\t<label key={i}>\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name={i} />\r\n\t\t\t\t\t\t\t\t\t{i}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<input name=\"newMenu\" placeholder=\"서브메뉴 추가\" autoComplete=\"off\"></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default React.memo(Quill)\r\n","import React, { useEffect } from 'react'\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport './Content.css'\r\nimport queryString from 'query-string'\r\nimport { Link, Route, useLocation, Switch } from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\n\r\nimport Post from './Post'\r\nimport Paging from './Paging'\r\nimport PostList from './PostList'\r\nimport NotFoundPage from './NotFoundPage'\r\nimport Login from './Login'\r\nimport Quill from './Quill'\r\n\r\nfunction Content(props) {\r\n\tconst store = React.useContext(AppContext)\r\n\tconst location = useLocation()\r\n\tconst search = queryString.parse(location.search)\r\n\tlet startPost = 1\r\n\tlet paging = null\r\n\tif (store.headers) {\r\n\t\tconst page = Number(search.page) || 1\r\n\t\tconst lastPage = Number(store.headers['last-page'])\r\n\t\tconst totalPost = Number(store.headers['total-post'])\r\n\t\tstartPost = totalPost - (page - 1) * 5\r\n\t\tpaging = {\r\n\t\t\tpage: page,\r\n\t\t\tlastPage: lastPage,\r\n\t\t\ttotalPost: totalPost,\r\n\t\t\tstartPost: startPost,\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst resize = () => {\r\n\t\t\tstore.resizeTextarea()\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', resize)\r\n\t\tconst loading = document.querySelector('#loading')\r\n\t\tif (store.ready) {\r\n\t\t\tif (loading) loading.style.display = 'none'\r\n\t\t\tif (location.hash) {\r\n\t\t\t\t//hash가 있으면 해당 엘리먼트로 스크롤\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t//elem이 로드된 이후에 스크롤이 되야해서 0.1초 타임아웃 추가..\r\n\t\t\t\t\tconst content = document.querySelector('#content')\r\n\t\t\t\t\tconst elem = document.querySelector(location.hash)\r\n\t\t\t\t\tif (elem) {\r\n\t\t\t\t\t\tlet contentScroll = content.scrollTop\r\n\t\t\t\t\t\tlet elemTop = elem.offsetTop\r\n\t\t\t\t\t\tlet dif = (elemTop - contentScroll) / 50\r\n\t\t\t\t\t\tif (elemTop > contentScroll) {\r\n\t\t\t\t\t\t\tconst frame = setInterval(function () {\r\n\t\t\t\t\t\t\t\tif (content.scrollTop + dif >= elemTop || content.scrollTop >= content.scrollHeight - content.clientHeight) {\r\n\t\t\t\t\t\t\t\t\tclearInterval(frame)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcontent.scrollTop += dif\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst frame = setInterval(function () {\r\n\t\t\t\t\t\t\t\tif (content.scrollTop <= elemTop) {\r\n\t\t\t\t\t\t\t\t\tclearInterval(frame)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcontent.scrollTop += dif\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 10)\r\n\t\t\t}\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tstore.resizeTextarea()\r\n\t\t\t}, 10)\r\n\t\t} else {\r\n\t\t\tif (loading) loading.style.display = 'flex'\r\n\t\t}\r\n\t\treturn window.removeEventListener('resize', resize)\r\n\t}, [location.hash, store])\r\n\r\n\r\n\tconst scrollUp = (e) => { // content의 스크롤을 가장 위로\r\n\t\tconst content = document.querySelector('#content')\r\n\t\tlet contentScroll = content.scrollTop\r\n\t\tlet dif = contentScroll / 50\r\n\t\tconst frame = setInterval(function () {\r\n\t\t\tif (content.scrollTop <= 0) {\r\n\t\t\t\tclearInterval(frame)\r\n\t\t\t} else {\r\n\t\t\t\tcontent.scrollTop -= dif\r\n\t\t\t}\r\n\t\t}, 10)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"content\" className=\"slideMenu\">\r\n\t\t\t{/* FAB */}\r\n\t\t\t{store.login && store.login.username === 'imki123' && (\r\n\t\t\t\t<Link id=\"postFAB\" className=\"hover\" to=\"/quill\">\r\n\t\t\t\t\t<AddCircleOutlineIcon />\r\n\t\t\t\t</Link>\r\n\t\t\t)}\r\n\t\t\t<div id=\"scrollFAB\" className=\"hover\" onClick={scrollUp}>\r\n\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t</div>\r\n\t\t\t<div id=\"menuFAB\" className=\"hover\" onClick={store.slideMenu}>\r\n\t\t\t\t<img alt=\"MENU\" src={process.env.PUBLIC_URL + '/images/guide_icon.png'} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* 로딩 */}\r\n\t\t\t<div id=\"loading\">\r\n\t\t\t\t<img alt=\"Loading\" src={process.env.PUBLIC_URL + '/images/loading.gif'} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path={['/login', '/register', '/loginStatus', '/withdraw']}>\r\n\t\t\t\t\t<Login />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={['/quill']}>\r\n\t\t\t\t\t<Quill />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path=\"*\">\r\n\t\t\t\t\t{/* 본문 내용 */}\r\n\t\t\t\t\t{store.ready && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{store.posts.length < 1 ? (\r\n\t\t\t\t\t\t\t\t<NotFoundPage /> /* 글이 없으면 페이지 없음 */\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t//태그별 목록\r\n\t\t\t\t\t\t\t\t\t\tstartPost > 1 && paging && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"postListWrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"postListTitle\">목록</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{store.posts && store.posts.map((i, idx) => <PostList no={startPost - idx} post={i} key={i.postId} />)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<Paging paging={paging} />}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t//글\r\n\t\t\t\t\t\t\t\t\t\tstore.posts && store.posts.map((i, idx) => <Post no={startPost - idx} post={i} key={i.postId} />)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t//태그별 목록\r\n\t\t\t\t\t\t\t\t\t\tstartPost > 1 && paging && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"postListWrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"postListTitle\">목록</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{store.posts && store.posts.map((i, idx) => <PostList no={startPost - idx} post={i} key={i.postId} />)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<Paging paging={paging} />}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\r\n\t\t\t{/* 텍스트 에어리어 높이 조정을 위한 안보이는 가짜 텍스트에어리어 */}\r\n\t\t\t<textarea disabled id=\"fakeTextarea\" />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default React.memo(Content)\r\n","import React from 'react'\r\nimport './Setting.css'\r\nimport { Link} from 'react-router-dom'\r\nimport { AppContext } from '../App'\r\n\r\nfunction Setting(props) {\r\n    const store = React.useContext(AppContext)\r\n\r\n    const closeSetting = e => {\r\n        const settingWrapper = document.querySelector('#settingWrapper')\r\n        e.stopPropagation()\r\n        setTimeout(function(){\r\n            settingWrapper.style.display = 'none'\r\n        },200)\r\n    }\r\n\r\n    const logout = e => {\r\n        if(window.confirm('로그아웃 하시겠습니까?')){\r\n            let url = process.env.REACT_APP_URL+'/auth/logout'\r\n            //url = process.env.REACT_APP_LOCAL_URL+'/auth/logout'\r\n\r\n            fetch(url,{\r\n                mode: 'cors',\r\n                method: 'POST',\r\n                credentials: \"include\",\r\n            })\r\n            .then(res => {\r\n                if(res.status===204) { //로그아웃 하면 204\r\n                    console.log('로그아웃 성공')\r\n                    store.setLogin(false)\r\n                }\r\n                else{\r\n                    console.log('로그아웃 실패')\r\n                }\r\n            })\r\n            .catch(e => console.error(e))\r\n        }\r\n    }\r\n\r\n\treturn(\r\n        <div id=\"settingWrapper\" onClick={closeSetting}>\r\n            <div id=\"setting\">\r\n                <div id=\"settingListWrapper\">\r\n                    {store.login ? \r\n                        <Link className=\"settingList\" to=\"/loginStatus\">{store.login.username}</Link> :\r\n                        <Link className=\"settingList\" to=\"/login\">로그인</Link>    \r\n                    }\r\n                    {store.login && <div className=\"settingList\" onClick={logout}>로그아웃</div>}\r\n                    {!store.login && <Link className=\"settingList\" to=\"/register\">회원가입</Link>}\r\n                    {store.login && <Link className=\"settingList\" to=\"/withdraw\">회원탈퇴</Link>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\nexport default React.memo(Setting)\r\n","import React, { createContext, useEffect, useState } from 'react'\r\nimport './App.css'\r\nimport {useLocation} from 'react-router-dom'\r\n\r\nimport Header from './components/Header'\r\nimport Body from './components/Body'\r\nimport Guide from './components/Guide'\r\nimport Content from './components/Content'\r\nimport Setting from './components/Setting'\r\nimport Axios from 'axios'\r\n\r\nconst AppContext = createContext()\r\n\r\nfunction App() {\r\n\tconst location = useLocation() //페이지 경로 변경 감지\r\n\tconst [ready, setReady] = useState(false)\r\n\tconst [posts, setPosts] = useState([])\r\n\tconst [headers, setHeaders] = useState({})\r\n\tconst [login, setLogin] = useState(false)\r\n\tconst [refresh, setRefresh] = useState(false)\r\n\tconst [mainMenus, setMainMenus] = useState({})\r\n\tconst [subMenus, setSubMenus] = useState([])\r\n\r\n\tconst resizeTextarea = e => { //텍스트에어리어를 찾아서 크기를 글자 높이에 맞게 변경하기\r\n        //textarea 높이 조정\r\n        const fake = document.querySelector('#fakeTextarea')\r\n        let textareas = []\r\n        if(e && e.target){\r\n            textareas.push(e.target)\r\n        }else{\r\n            textareas = document.querySelectorAll('textarea')\r\n        }\r\n\t\t\r\n\t\tif (textareas && fake) {\r\n\t\t\tfor (let i = 0; i < textareas.length; i++) {\r\n                fake.style.height = '1px'\r\n                fake.style.width = textareas[i].clientWidth +'px'\r\n                fake.value = textareas[i].value\r\n                textareas[i].style.height = 5 + fake.scrollHeight + 'px'\r\n            }\r\n            fake.value = ''\r\n            fake.style.height = '0px'\r\n\t\t}\r\n\t}\r\n\r\n\tconst slideMenu = () => { //메뉴버튼 클릭 시 메뉴 보이기 & 숨기기\r\n        const body = document.querySelector('#body')\r\n        const guideWrapper = document.querySelector('#guideWrapper')\r\n        const content = document.querySelector('#content')\r\n\r\n\t\tif(guideWrapper.style.left.replace('px','') > -100){ //메뉴 닫기\r\n\t\t\tguideWrapper.parentNode.style.width = '0' // 회색 0\r\n\t\t\tcontent.style.width = 'calc(100% - 16px)' //콘텐트 100% - 16px\r\n\t\t\tif(body.clientWidth < 500){ //모바일\r\n\t\t\t\tguideWrapper.style.left = '-230px' // 메뉴 왼쪽으로\r\n\t\t\t}else{\r\n\t\t\t\tguideWrapper.style.left = '-312px' // 메뉴 왼쪽으로\r\n\t\t\t}\r\n\t\t}else{ //메뉴 열기\r\n\t\t\tguideWrapper.style.left = '0px' // 메뉴 230\r\n            if(body.clientWidth < 500){ //모바일\r\n                guideWrapper.parentNode.style.width = '100%' // 회색 100%\r\n                \r\n            }else{ //PC\r\n                content.style.width = `calc(100% - 312px - 16px)`\r\n            }\r\n        }\r\n    }\r\n\t//useContext 이용하여 하위 컴포넌트에 상태 전달\r\n\tconst store = {\r\n\t\tready, setReady, \r\n\t\tposts, setPosts,\r\n\t\theaders, setHeaders,\r\n\t\tlogin, setLogin,\r\n\t\trefresh, setRefresh,\r\n\t\tmainMenus, setMainMenus,\r\n\t\tsubMenus, setSubMenus,\r\n\t\tresizeTextarea, slideMenu,\r\n\t}\r\n\t\r\n\tconst checkToken = (func) => { //로그인 되어있는지 토큰 체크하기\r\n\t\tlet url = process.env.REACT_APP_URL+'/auth/check'\r\n\t\t//url = process.env.REACT_APP_LOCAL_URL+'/auth/check'\r\n\t\tAxios.get(url,\r\n\t\t\t{withCredentials: true}\r\n\t\t)\r\n\t\t.then(res => {\r\n\t\t\tif(res.data){\r\n\t\t\t\tconsole.log('토큰 체크 성공')\r\n\t\t\t\tsetLogin(res.data)\r\n\t\t\t}else{\r\n\t\t\t\tconsole.log('토큰 없음') //res.status===204(No Content)\r\n\t\t\t\tsetLogin(false)\r\n\t\t\t}\r\n\t\t\tif (func) func()\r\n\t\t})\r\n\t\t.catch(e => { //실패\r\n\t\t\tif (func) func()\r\n\t\t}) \r\n\t}\r\n\r\n\t// 포스트에서 태그 정보를 가져와서 메뉴에 표시함, Quill의 태그목록에 표시\r\n    useEffect(() => {\r\n\t\tlet url = process.env.REACT_APP_URL+'/posts/menus'\r\n\t\t//url = process.env.REACT_APP_LOCAL_URL+'/posts/menus'\r\n\t\t\r\n\t\tAxios.get(url, {\r\n\t\t\twithCredentials: true,\r\n\t\t}) //메뉴 태그 가져오기\r\n\t\t.then(res => {\r\n\t\t\tsetMainMenus(res.data.mainMenus)\r\n\t\t\tsetSubMenus(res.data.subMenus)\r\n\t\t})\r\n\t\t.catch(e => alert(e)) //실패\r\n\r\n    },[location.pathname, refresh])\r\n\r\n\t//주소 변경될 때, 토큰 체크하고 포스트 조회하기\r\n\tuseEffect(() => {\r\n\t\tsetReady(false)\r\n\t\tcheckToken(\r\n\t\t\tfunction() {\r\n\t\t\tlet url = process.env.REACT_APP_URL+'/posts'\r\n\t\t\t//url = process.env.REACT_APP_LOCAL_URL+'/posts'\r\n\t\t\tlet path = location.pathname.split('/')\r\n\t\t\tpath = '/'+path[1]\r\n\t\t\t\r\n\t\t\tif (location.pathname === '/') {\r\n\t\t\t\turl = url + '/home' + location.pathname + location.search\r\n\t\t\t}else if(location.pathname.indexOf('/quill') > -1) {\r\n\t\t\t\tsetHeaders(false)\r\n\t\t\t\tsetPosts(false)\r\n\t\t\t\tsetReady(true)\r\n\t\t\t\treturn\r\n\t\t\t}else {\r\n\t\t\t\turl = url + path + location.search\r\n\t\t\t}\r\n\r\n\t\t\tAxios.get(url, {\r\n\t\t\t\twithCredentials: true,\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetHeaders(res.headers)\r\n\t\t\t\tsetPosts(res.data)\r\n\t\t\t\tsetReady(true)\r\n\t\t\t})\r\n\t\t\t.catch(e => alert(e)) //실패\r\n\t\t})\r\n\r\n\t\t//주소 변경 시 해쉬 위치로 scroll. 해쉬는 리렌더링 하지 않음.\r\n\t\tconst content = document.querySelector('#content')\r\n\t\tif (content) {\r\n\t\t\tlet scroll = content.scrollTop\r\n\t\t\tconst frame = setInterval(function () {\r\n\t\t\t\tlet dif = scroll / 50\r\n\t\t\t\tcontent.scrollTop -= dif\r\n\t\t\t\tif (content.scrollTop <= 0) clearInterval(frame)\r\n\t\t\t}, 10)\r\n\t\t}\r\n\t}, [location.pathname, location.search, refresh])\r\n\r\n\treturn (\r\n\t\t<AppContext.Provider value={store}>\r\n\t\t<div id=\"app\">\r\n\t\t\t<Header />\r\n\t\t\t<Setting/>\r\n\t\t\t<Body>\r\n\t\t\t\t<Guide/>\r\n\t\t\t\t<Content/>\r\n\t\t\t</Body>\r\n\t\t</div>\r\n\t\t</AppContext.Provider>\r\n\t)\r\n}\r\nexport {AppContext}\r\nexport default React.memo(App)\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}